<<<<<<< HEAD
document.addEventListener("DOMContentLoaded",(function(){var n=document.getElementById("bnb-calculator");const e=document.createElement("meta");e.setAttribute("charset","UTF-8"),document.head.appendChild(e);const t=document.createElement("style");function a(n){return new Promise(((e,t)=>{const a=document.createElement("script");a.src=n,a.onload=()=>e(),a.onerror=()=>t(new Error(`Failed to load script: ${n}`)),document.head.appendChild(a)}))}t.type="text/css",t.innerText="\n        :root {\n            --primary-color: #00548C;\n            --secondary-color: #1673af;\n            --success-color: #059669;\n            --error-color: #dc2626;\n            --border-radius: 20px;\n            --transition-speed: 0.3s;\n            --box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1);\n            --input-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);\n            --hover-shadow: 0 6px 12px -2px rgba(0, 0, 0, 0.15);\n        }\n        #modal-container {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            position: fixed;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n            background: rgba(0, 0, 0, 0.5);\n            z-index: 100;\n        }\n        #calculator-modal {\n            background: #f3f4f6;\n            width: 80%;\n            height: 85%;\n            max-width: 1000px;\n            border-radius: 8px;\n            padding: 20px;\n            font-family: Arial, sans-serif;\n            box-shadow: 0px 4px 12px rgba(0, 0, 0, 0.2);\n            overflow-y: scroll;\n            scrollbar-width: none;\n        }\n        #calculator-modal h2 {\n            text-align: center;\n            color: #003b73;\n            margin-bottom: 20px;\n            font-size: 35px !important;\n        }\n        .section-title {\n            color: #003b73;\n            font-weight: bold;\n            margin-top: 20px;\n        }\n        .form-group {\n            display: flex;\n            gap: 10px;\n            margin-bottom: 15px;\n        }\n        .form-group label {\n            flex: 1;\n            align-content: center;\n            width:50%;\n        }\n        fieldset {\n            margin-top:15px;\n            color: #003b73;\n            font-weight: bold;\n            border-radius: 12px;\n            min-width: unset;\n        }\n        .form-group input,select {\n            flex: 1;\n            padding: 8px;\n            border: 1px solid #a9d3ef;\n            border-radius: 8px;\n            font-size: 1em;\n            height:35px;\n            width:50%;\n        }\n        .bnb-button {\n            width: 100%;\n            background-color: #007bff;\n            color: white;\n            font-size: 1.2em;\n            border: none;\n            border-radius: 4px;\n            padding: 10px;\n            cursor: pointer;\n            margin-top: 20px;\n        }\n        .bnb-button:hover {\n            background-color: #0056b3;\n        }\n\n        .result-table {\n            width: 100%;\n            margin-top: 55px;\n            border-collapse: collapse;\n            background-color: #f0f0f0;\n        }\n        .result-table, .result-table th, .result-table td {\n            border: 1px solid #ccc;\n            padding: 8px;\n            text-align: center;\n        }\n        .result-table th {\n            background-color: #007bff;\n            font-weight: bold;\n            color: white;\n        }\n        .result-table td {\n            background-color: #f3f4f6;\n        }\n        .chart-container {\n            width:100%;\n            height:auto;\n            margin-top: 30px;\n        }\n\n        .info-icon {\n            display: inline-flex;\n            align-items: center;\n            justify-content: center;\n            width: 16px;\n            height: 16px;\n            border-radius: 50%;\n            background-color: #1673af;\n            color: white;\n            font-size: 12px;\n            font-style: italic;\n            cursor: help;\n        }    \n\n        .tooltip {\n            position: absolute;\n            background-color: #333;\n            color: #fff;\n            margin-left: 15px;\n            padding: 5px 10px;\n            border-radius: 5px;\n            z-index: 1000;\n            width: 250px;\n            height: auto;\n            transform: translateY(-100%); \n        }\n\n        .detail-div{\n            background: #f3f4f6;\n            border-radius: 10px;\n            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n            overflow: hidden;\n        }\n\n        .detail-summary{\n            padding: 0rem 1.5rem;\n            cursor: pointer;\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            border-bottom: 1px solid #e9ecef;\n        }\n\n        .toggle-icon::before {\n            margin-right: 1px;\n        }\n        .toggle-icon::before {\n            content: '+';\n            font-weight: bolder;\n            font-size: 1.5rem;\n            color:#003b73;\n        }\n\n        details[open] .toggle-icon::before {\n            content: '-';\n        }        \n\n        .embed-generator {\n            padding: 2rem;\n        }\n\n        .embed-calculator-section * {\n            box-sizing: border-box;\n        }\n\n        .settings-grid {\n            display: grid;\n            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n            gap: 1.5rem;\n            margin-bottom: 2rem;\n        }\n\n        .setting-group {\n            display: flex;\n            flex-direction: column;\n            gap: 0.5rem;\n        }\n\n        .color-input-group {\n            display: flex;\n            gap: 0.5rem;\n        }\n\n        .color-text, .font-select, .embed-code-display {\n            width: 100%;\n            padding: 0.75rem 1rem;\n            border: 2px solid #e9ecef;\n            border-radius: 0.8rem;\n            font-size: 1rem;\n            margin-top: 0.25rem;\n            background: white;\n            box-shadow: var(--input-shadow);\n            transition: all var(--transition-speed) ease;\n        }\n\n        .color-picker {\n            -webkit-appearance: none;\n            -moz-appearance: none;\n            appearance: none;\n            background: none;\n            border: 0;\n            cursor: pointer;\n            width: 33px;\n            padding: 0;\n            position: relative;\n            outline: 1px solid rgba(0, 0, 0, 0.2);\n            \n            box-shadow: 2px 2px 0px 0px rgba(0, 0, 0, 0.2);\n            margin-left: 5px;\n            align-self: center;\n        }\n\n        .embed-code-calculator-section {\n            margin: 2rem 0;\n            background: #fff;\n            padding: 1rem;\n            border-radius: 8px;\n        }\n\n        .embed-header {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-bottom: 1rem;\n        }\n\n        @media (max-width: 680px) {\n            .embed-header {\n                display: block;\n            }\n            .embed-generator button {\n                font-size: 13px !important;\n            }   \n        }\n\n        .embed-header .button-group {\n            display: flex;\n            gap: 10px;\n        }\n\n        .embed-generator button {\n            font-family: var(--font-heading-family);\n            font-style: var(--font-heading-style);\n            font-weight: var(--font-heading-weight);\n            letter-spacing: calc(var(--font-heading-scale)* .06rem);\n            background-color: var(--secondary-color);\n            color: white;\n            border: none;\n            padding: .6rem 2rem;\n            border-radius: 10rem;\n            font-size: 1.2rem;\n            cursor: pointer;\n            transition: all var(--transition-speed);\n            box-shadow: 0 4px 6px rgba(0, 92, 194, 0.2);\n            position: relative;\n            overflow: hidden;\n        }\n\n        .mini-preview-calculator-section {\n            margin-top: 2rem;\n        }\n\n        .preview-container {\n            border: 1px solid #ddd;\n            border-radius: 8px;\n            padding: 1rem;\n            height: auto;\n            overflow: hidden;\n        }\n\n        @media (max-width: 480px) {\n            .tooltip {\n                width:44%;\n            }\n        }\n            \n        @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n        }\n\n        .input-container {\n            display: flex;\n            align-items: center;\n            border: 1px solid #a9d3ef;\n            border-radius: 8px;\n            padding: 0px 10px;\n            background-color: #fff;\n            width:calc(50% - 19px);\n            height:35px;\n            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n        }\n\n        .input-container span {\n            font-size: 16px;\n            color: #333;\n            margin-right: 5px;\n        }\n\n        .input-container input {\n            border: none;\n            outline: none;\n            font-size: 16px;\n            width: 100%;\n            color: #333;\n            padding: 0;\n        }\n\n        .input-container input::placeholder {\n            color: #aaa;\n        }\n\n        .input-container:focus-within {\n            border-color: #1673af;\n            box-shadow: 0 0 5px rgba(22, 115, 175, 0.5);\n        }\n    ",document.head.appendChild(t),async function(){try{await a("https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.2/html2pdf.bundle.min.js"),await a("https://code.highcharts.com/highcharts.js"),await a("https://code.highcharts.com/highcharts-3d.js")}catch(n){console.error(n)}}(),n.innerHTML='\n        <div id="loading-indicator" style="display: none; position: absolute; top: 0; left: 0; z-index: 9999; width:100%; height:100%; background-color: #fff;">\n                    <div class="spinner" style="position: relative; top:50%; left:45%; border: 6px solid #f3f3f3; border-top: 6px solid #3498db; border-radius: 50%; width: 30px; height: 30px; animation: spin 1s linear infinite;"></div>\n        </div>\n        <div id="modal-container">\n            \n            <div id="calculator-modal">\n                \n                <div id="tooltip" class="tooltip"  style="display: none;"></div>\n                <h2>BnB Profit Calculator for Spain</h2>\n                <form id="bnb-calculator-form">\n\n                    <fieldset>\n                        <legend>Property Value and Financing:</legend>\n                        <div class="section-title"></div>\n                        <div class="form-group">\n                            <label>Mortgage Term Years <span class="info-icon" data-tooltip="0">i<span></label>\n                            <select id="termYears"> \n                                <option>10</option>\n                                <option>15</option>\n                                <option>20</option>\n                                <option>25</option>\n                                <option>30</option>\n                            </select>\n                        </div>\n                        <div class="form-group">\n                            <label>Property Purchase Price (&euro;) <span class="info-icon" data-tooltip="1">i<span></label>\n                            <div class="input-container">\n                                <span>&euro;</span>\n                                <input type="text" id="purchasePrice" placeholder="0" required>\n                            </div>    \n                        </div>\n                        <div class="form-group">\n                            <label>Annual Percentage Rate (%) <span class="info-icon" data-tooltip="2">i<span></label>\n                            <div class="input-container">\n                                <span>%</span>\n                                <input type="number" id="interestRate" placeholder="0" required min="0" max="100" step="0.01">\n                            </div> \n                        </div>\n                        <div class="form-group">\n                            <label>Deposit (&euro;) <span class="info-icon" data-tooltip="3">i<span></label>\n                            <div class="input-container">\n                                <span>&euro;</span>\n                                <input type="text" id="propertyPrice" placeholder="0" required>\n                            </div>\n                        </div>\n                        <div class="form-group">\n                            <label>Energy-Efficient Property? <span class="info-icon" data-tooltip="4">i<span></label>\n                            <input type="checkbox" id="propertyType" style = "height:30px;">\n                        </div>\n                        <div class="form-group">\n                            <label>Property Type <span class="info-icon" data-tooltip="5">i<span></label>\n                            <select id="propertyTypeCmb"> \n                                <option value = "11.5">New</option>\n                                <option value = "8">Resale</option>\n                            </select>\n                        </div>\n                    </fieldset>\n                    \n                    <fieldset>\n                        <legend>Startup Fees:</legend>\n                        <div class="section-title"></div>\n                        <div class="form-group">\n                            <label>Home Furnishing (&euro;) <span class="info-icon" data-tooltip="6">i<span></label>\n                            <div class="input-container">\n                                <span>&euro;</span>\n                                <input type="text" id="startupFeeFurnishing" placeholder="0" required value="5,000.00">\n                            </div>    \n                        </div>\n                        <div class="form-group">\n                            <label>Renovations (&euro;) <span class="info-icon" data-tooltip="7">i<span></label>\n                            <div class="input-container">\n                                <span>&euro;</span>\n                                <input type="text" id="startupFeeRenovations" placeholder="0" required value="10,000.00">\n                            </div>    \n                        </div>\n                    </fieldset>    \n\n                    <fieldset>\n                        <legend>Rental Income Criteria:</legend>\n                        <div class="section-title"></div>\n                        <div class="form-group">\n                            <label>Price per night per Guest (&euro;) <span class="info-icon" data-tooltip="8">i<span></label>\n                            <div class="input-container">\n                                <span>&euro;</span>\n                                <input type="text" id="rentalPrice" placeholder="0" required value="80.00">\n                            </div>    \n                        </div>\n                        <div class="form-group">\n                            <label>Nr of Max. Guests <span class="info-icon" data-tooltip="9">i<span></label>\n                            <input type="number" id="rentalMax" placeholder="0" required value="3">\n                        </div>\n                        <div class="form-group">\n                            <label>Occupancy Rate (%) <span class="info-icon" data-tooltip="10">i<span></label>\n                            <div class="input-container">\n                                <span>%</span>\n                                <input type="number" id="rentalRate" placeholder="0" required min="0" max="100" step="0.01" value="70">\n                            </div>                                \n                        </div>\n                        <div class="form-group">\n                            <label>Operating Days Annually <span class="info-icon" data-tooltip="11">i<span></label>\n                            <input type="number" id="rentalAnnual" placeholder="0" required value="365" min="1" max="365" step="1">\n                        </div>\n                    </fieldset>\n\n                    <fieldset>\n                        <legend>Operating Expenses:</legend>\n                        <div class="section-title"></div>\n                        <div class="form-group">\n                            <label>Management Fee (%) <span class="info-icon" data-tooltip="12">i<span></label>\n                            <div class="input-container">\n                                <span>%</span>\n                                <input type="number" id="managementFee" placeholder="0" required min="0" max="100" step="0.01" value="20">\n                            </div>    \n                        </div>\n                        <div class="form-group">\n                            <label>Property Tax (%) <span class="info-icon" data-tooltip="13">i<span></label>\n                            <div class="input-container">\n                                <span>%</span>\n                                <input type="number" id="propertyTax" placeholder="0" required min="0" max="100" step="0.01" value="1.1">\n                            </div>    \n                        </div>\n                        <div class="form-group">\n                            <label>Community Fees (&euro;) <span class="info-icon" data-tooltip="14">i<span></label>\n                            <div class="input-container">\n                                <span>&euro;</span>\n                                <input type="text" id="communityFee" placeholder="0" required value="1,300.00">\n                            </div>    \n                        </div>\n                        <div class="form-group">\n                            <label>Maintenance and repairs (&euro;) <span class="info-icon" data-tooltip="15">i<span></label>\n                            <div class="input-container">\n                                <span>&euro;</span>\n                                <input type="text" id="maintenanceFee" placeholder="0" required value="2,000.00">\n                            </div>    \n                        </div>\n                        <div class="form-group">\n                            <label>Insurance (&euro;) <span class="info-icon" data-tooltip="16">i<span></label>\n                            <div class="input-container">\n                                <span>&euro;</span>\n                                <input type="text" id="insuranceFee" placeholder="0" required value="400.00">\n                            </div>    \n                        </div>\n                        <div class="form-group">\n                            <label>License Obtaining and Renweal Fees (&euro;) <span class="info-icon" data-tooltip="17">i<span></label>\n                            <div class="input-container">\n                                <span>&euro;</span>\n                                <input type="text" id="licenseFee" placeholder="0" required value="500.00">\n                            </div>    \n                        </div>\n                        <div class="form-group">\n                            <label>Advertising Costs per Month (&euro;) <span class="info-icon" data-tooltip="18">i<span></label>\n                            <div class="input-container">\n                                <span>&euro;</span>\n                                <input type="text" id="advertisingFee" placeholder="0" required value="100.00">\n                            </div>    \n                        </div>\n                        <div class="form-group">\n                            <label>Gas Bill Monthy (&euro;) <span class="info-icon" data-tooltip="19">i<span></label>\n                            <div class="input-container">\n                                <span>&euro;</span>\n                                <input type="text" id="gasFee" placeholder="0" required value="30.00">\n                            </div>    \n                        </div>\n                        <div class="form-group">\n                            <label>Energy Bill Monthly (&euro;) <span class="info-icon" data-tooltip="20">i<span></label>\n                            <div class="input-container">\n                                <span>&euro;</span>\n                                <input type="text" id="energyFee" placeholder="0" required value="100.00">\n                            </div>    \n                        </div>\n                        <div class="form-group">\n                            <label>WiFi Monthly (&euro;) <span class="info-icon" data-tooltip="21">i<span></label>\n                            <div class="input-container">\n                                <span>&euro;</span>\n                                <input type="text" id="wifiFee" placeholder="0" required value="40.00">\n                            </div>    \n                        </div>\n                        <div class="form-group">\n                            <label>Water Bill Monthly (&euro;) <span class="info-icon" data-tooltip="22">i<span></label>\n                            <div class="input-container">\n                                <span>&euro;</span>\n                                <input type="text" id="waterFee" placeholder="0" required value="10.00">\n                            </div>    \n                        </div>\n                    </fieldset>    \n\n                    <fieldset>\n                        <legend>BnB Renting Platforms:</legend>\n                        <div class="section-title"></div>\n                        <div class="form-group">\n                            <label>AirBnB (%) <span class="info-icon" data-tooltip="23">i<span></label>\n                            <div class="input-container" style = "width:30%">\n                                <span>%</span>\n                                <input type="number" id="rentingAirBnB" placeholder="0" required min="0" max="100" step="0.01" value="3">\n                            </div>    \n                            <input type="checkbox" id="isAirBnB" checked>\n                        </div>\n                        <div class="form-group">\n                            <label>Booking.com (%) <span class="info-icon" data-tooltip="24">i<span></label>\n                            <div class="input-container" style = "width:30%">\n                                <span>%</span>\n                                <input type="number" id="rentingBooking" placeholder="0" required min="0" max="100" step="0.01" value="10">\n                            </div>\n                            <input type="checkbox" id="isBooking" checked>\n                        </div>\n                    </fieldset>  \n\n                     <fieldset>\n                        <legend>Living Situation:</legend>\n                        <div class="form-group">\n                            <label>Living Situation Select <span class="info-icon" data-tooltip="25">i<span></label>\n                            <select id="livingTypeCmb"> \n                                <option value = "1">EU Resident</option>\n                                <option value = "2">Spanish Resident</option>\n                                <option value = "3">Non-resident ES or EU</option>\n                            </select>\n                        </div>\n                    </fieldset>  \n                    <button type="submit" class="bnb-button" id="calculate-button">Calculate Break Even</button>\n                </form>\n                \n                <div id="result-table-container" style="display: none; background-color: #f3f4f6;">\n                    <details class="detail-div">\n                    <summary class="detail-summary"><h2 style="font-size:1.5em !important;">Calculator Result</h2> <span class="toggle-icon"></span></summary>\n                    <table class="result-table" style = "display:none">\n                        <thead>\n                            <tr>\n                                <th >Interest Rate for Energy Certificate A and B</th>\n                                <th colspan="5">Mortgage Calculations</th>\n                            </tr>\n                            <tr>\n                                <td rowspan = "4" id = \'t_interestRate\'></td>\n                                <td>Total Monthly Payments</td>\n                                <td>Mortgage Amount</td>\n                                <td>Monthly Payment</td>\n                                <td>Total To Repay</td>\n                                <td>Interests</td>\n                            </tr>\n                            <tr>\n                                <td id = \'t_termYears\'></td>\n                                <td id = \'t_mortgageAmount\'></td>\n                                <td rowspan = "3" id = \'t_pmt\'></td>\n                                <td rowspan = "3" id = \'t_repay\'></td>\n                                <td rowspan = "3" id = \'t_interest\'></td>\n                            </tr>\n                            <tr>\n                                <td>Monthly Interest</td>\n                                <td>Monthly Principal</td>\n                            </tr>\n                            <tr>\n                                <td id = \'t_mInterest\'></td>\n                                <td id = \'t_mPrincipal\'></td>\n                            </tr>\n                        </thead>\n                    </table>\n\n                    <table class="result-table" id = "startupCostTable">\n                        <thead>\n                            <tr>\n                                <th colspan="2" style = "font-size:25px">Star-Up Costs</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            <tr>\n                                <td>Notary Costs</td>\n                                <td></td>\n                            </tr>\n                            <tr>\n                                <td>Tax Consultancy Costs</td>\n                                <td></td>\n                            </tr>\n                            <tr>\n                                <td>Registry Costs</td>\n                                <td></td>\n                            </tr>\n                            <tr>\n                                <td>Purchase Taxes</td>\n                                <td></td>\n                            </tr>\n                            <tr>\n                                <td>Registry Verification Costs</td>\n                                <td></td>\n                            </tr>\n                            <tr>\n                                <td>Valuation Costs</td>\n                                <td></td>\n                            </tr>\n                            <tr>\n                                <td>Deposit</td>\n                                <td></td>\n                            </tr>\n                            <tr>\n                                <td>Renovation & Furniture</td>\n                                <td></td>\n                            </tr>\n                            <tr class="total">\n                                <td><b>Total Star-Up Costs</b></td>\n                                <td></td>\n                            </tr>\n                        </tbody>\n                    </table>    \n\n                    <div id="startupCostChart" class="chart-container"></div>\n\n                    <table class="result-table" id = "mortgageTable">\n                        <thead>\n                            <tr>\n                                <th colspan="2" style = "font-size:25px">Mortgage Details</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            <tr>\n                                <th colspan="2">Mortgage Interest</th>\n                            </tr>\n                            <tr>\n                                <th>Monthly</th>\n                                <th>Annual</th>\n                            </tr>\n                            <tr>\n                                <td id="t_mIMonthly"></td>\n                                <td id="t_mIAnnual"></td>\n                            </tr>\n                            <tr>\n                                <th colspan="2">Mortgage Principal</th>\n                            </tr>\n                            <tr>\n                                <th>Monthly</th>\n                                <th>Annual</th>\n                            </tr>\n                            <tr>\n                                <td id="t_mPMonthly"></td>\n                                <td id="t_mPAnnual"></td>\n                            </tr>\n                            <tr>\n                                <th colspan="2">Total Mortgage Payment</th>\n                            </tr>\n                            <tr>\n                                <th>Monthly</th>\n                                <th>Annual</th>\n                            </tr> \n                            <tr>\n                                <td id="t_mTMonthly"></td>\n                                <td id="t_mTAnnual"></td>\n                            </tr>\n                            <tr>\n                                <th>Total Mortgage</th>\n                                <th id="t_mTotal"></th>\n                            </tr> \n                        </tbody>\n                    </table>\n\n                    <table class="result-table" id = "rentalTable">\n                        <thead>\n                            <tr>\n                                <th colspan="2" style = "font-size:25px">Rental Brut Income</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            <tr>\n                                <th>Monthly</th>\n                                <th>Annual</th>\n                            </tr>\n                            <tr>\n                                <td id="t_rentalMonthly"></td>\n                                <td id="t_rentalAnnual"></td>\n                            </tr>\n                        </tbody>\n                    </table>\n\n                    <table class="result-table" id = "rentingTable">\n                        <thead>\n                            <tr>\n                                <th colspan="2" style = "font-size:25px">Renting Platforms Fees</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            <tr>\n                                <th colspan="2">AirBnB Fees Total</th>\n                            </tr>\n                            <tr>\n                                <th>Monthly</th>\n                                <th>Annual</th>\n                            </tr>\n                            <tr>\n                                <td id="t_airBnBMonthly"></td>\n                                <td id="t_airBnBAnnual"></td>\n                            </tr>\n                            <tr>\n                                <th colspan="2">Booking.com Fees Total</th>\n                            </tr>\n                            <tr>\n                                <th>Monthly</th>\n                                <th>Annual</th>\n                            </tr>\n                            <tr>\n                                <td id="t_bookingMonthly"></td>\n                                <td id="t_bookingAnnual"></td>\n                            </tr>\n                            <tr>\n                                <th colspan="2">Total Renting Platform(s) Fees</th>\n                            </tr>\n                            <tr>\n                                <th id="t_rentingMonthly"></th>\n                                <th id="t_rentingAnnual"></th>\n                            </tr>\n                        </tbody>\n                    </table>\n\n                    <div id="rentingChart" class="chart-container"></div>\n\n                    <table class="result-table" id = "operationalTable">\n                        <thead>\n                            <tr>\n                                <th colspan="3" style = "font-size:25px">Operational Costs</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            <tr>\n                                <th></th>\n                                <th>Monthly</th>\n                                <th>Annual</th>\n                            </tr>\n                            <tr>\n                                <td>Management Fee</td>\n                                <td></td>\n                                <td></td>\n                            </tr>\n                            <tr>\n                                <td>Comunal Fees</td>\n                                <td></td>\n                                <td></td>\n                            </tr>\n                            <tr>\n                                <td>Maintenance</td>\n                                <td></td>\n                                <td></td>\n                            </tr>\n                            <tr>\n                                <td>Insurance</td>\n                                <td></td>\n                                <td></td>\n                            </tr>\n                            <tr>\n                                <td>License Obtaining and Renweal Fees</td>\n                                <td></td>\n                                <td></td>\n                            </tr>\n                            <tr>\n                                <td>Advertising Costs</td>\n                                <td></td>\n                                <td></td>\n                            </tr>\n                            <tr>\n                                <td>Gas Bills</td>\n                                <td></td>\n                                <td></td>\n                            </tr>\n                            <tr>\n                                <td>Energy Bills</td>\n                                <td></td>\n                                <td></td>\n                            </tr>\n                            <tr>\n                                <td>WiFi Costs</td>\n                                <td></td>\n                                <td></td>\n                            </tr>\n                            <tr>\n                                <td>Water Bills</td>\n                                <td></td>\n                                <td></td>\n                            </tr>\n                            <tr>\n                                <td>AirBnB Fees Total</td>\n                                <td></td>\n                                <td></td>\n                            </tr>\n                            <tr>\n                                <td>Booking.com Fees Total</td>\n                                <td></td>\n                                <td></td>\n                            </tr>\n                            <tr>\n                                <th>Total</th>\n                                <th></th>\n                                <th></th>\n                            </tr>\n                        </tbody>\n                    </table>\n\n                    <div id="operationalChart" class="chart-container"></div>\n\n                    <table class="result-table" id = "taxesTable">\n                        <thead>\n                            <tr>\n                                <th colspan="3" style = "font-size:25px">Taxes</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            <tr>\n                                <th></th>\n                                <th>Monthly</th>\n                                <th>Annual</th>\n                            </tr>\n                            <tr>\n                                <td>Property Tax Fee</td>\n                                <td></td>\n                                <td></td>\n                            </tr>\n                            <tr>\n                                <td>Rental Income Tax</td>\n                                <td></td>\n                                <td></td>\n                            </tr>\n                            <tr>\n                                <th>Total Taxes</th>\n                                <th></th>\n                                <th></th>\n                            </tr>\n                        </tbody>\n                    </table>\n\n                    <table class="result-table" id = "netIncomeTable">\n                        <thead>\n                            <tr>\n                                <th colspan="2" style = "font-size:25px">Net Income</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            <tr>\n                                <th>Monthly</th>\n                                <th>Annual</th>\n                            </tr>\n                            <tr>\n                                <td></td>\n                                <td></td>\n                            </tr>\n                            <tr>\n                                <th colspan="2">Break-even ROI in Years</th>\n                            </tr>\n                            <tr>\n                                <th colspan="2">7.6 Years</th>\n                            </tr>\n                            <tr>\n                                <th colspan="2">13.1% Annual ROI</th>\n                            </tr>\n                        </tbody>\n                    </table>\n\n                    <div id="netIncomeChart" class="chart-container"></div>\n                    \n                    <form>\n                        <button type="button" class="bnb-button" id="pdf-button">PDF Download</button>\n                    </form>\n                    <table class="result-table" id = "paymentPlanTable" style="display:none; margin-top:220px;">\n                        <thead>\n                            <tr>\n                                <th colspan="5" style = "font-size:25px">Mortgage Repayment Plan</th>\n                            </tr>\n                            <tr>\n                                <th>Period</th>\n                                <th>Beginning Balance</th>\n                                <th>Monthly Payment</th>\n                                <th>Interest Payment</th>\n                                <th>Principal Payment</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            \n                        </tbody>\n                    </table>\n                    </details>\n                </div>\n                \n                <details class="detail-div" style="margin-top:20px;">\n                    <summary class="detail-summary"><h2 style="font-size:1.3em !important;">Embed Code Generate</h2> <span class="toggle-icon"></span></summary>\n                        <div class="embed-generator">\n                                <div class="customization-panel">\n                                <div class="settings-grid">\n                                    <div class="setting-group">\n                                    <label for="bgColor">Background Color</label>\n                                    <div class="color-input-group">\n                                        <input type="text" id="bgColor" value="#f3f4f6" class="color-text">\n                                        <input type="color" id="bgColorPicker" value="#f3f4f6" class="color-picker">\n                                    </div>\n                                    </div>\n                        \n                                    <div class="setting-group">\n                                    <label for="textColor">Text Color</label>\n                                    <div class="color-input-group">\n                                        <input type="text" id="textColor" value="#00548C" class="color-text">\n                                        <input type="color" id="textColorPicker" value="#00548C" class="color-picker">\n                                    </div>\n                                    </div>\n                        \n                                    <div class="setting-group">\n                                    <label for="buttonColor">Button Color</label>\n                                    <div class="color-input-group">\n                                        <input type="text" id="buttonColor" value="#1673af" class="color-text">\n                                        <input type="color" id="buttonColorPicker" value="#1673af" class="color-picker">\n                                    </div>\n                                    </div>\n                        \n                                    <div class="setting-group">\n                                    <label for="fontFamily">Font Family</label>\n                                    <select id="fontFamily" class="font-select">\n                                        <option value="Arial, sans-serif">Arial</option>\n                                        <option value="\'Times New Roman\', serif">Times New Roman</option>\n                                        <option value="\'Helvetica Neue\', sans-serif">Helvetica Neue</option>\n                                        <option value="\'Roboto\', sans-serif">Roboto</option>\n                                    </select>\n                                    </div>\n                                </div>\n                        \n                                <div class="embed-code-calculator-section">\n                                    <div class="embed-header">\n                                    <h3>Calculator Code</h3>\n                                    <div class="button-group">\n                                        <button id="generateButton" class="copy-button">Generate Code</button>\n                                        <button id="copyButton" class="copy-button" style="display: inline-block;" data-clipboard-target="#embedCode">Copy Code</button>\n                                    </div>\n                                    </div>\n                                    <textarea id="embedCode" class="embed-code-display" style="resize: none; width: 100%; overflow:hidden" readonly=""></textarea>\n                                </div>\n                        \n                                <div class="mini-preview-calculator-section">\n                                    <h3>Preview</h3>\n                                    <div id="previewContainer" class="preview-container" style="background-color: rgb(243, 244, 246); font-family: Arial, sans-serif;">\n                                <div style="text-align: center; padding: 10px;">\n                                    <h4 style="color: #00548C !important; margin: 0 0 10px 0;">Spain Tax Calculator</h4>\n                                    <input type="text" placeholder="Sample Input" style="width: 80%; \n                                                    padding: 5px; \n                                                    margin: 5px; \n                                                    border: 1px solid #ddd; \n                                                    border-radius: 0.8rem;">\n                                    <button style="background-color: #1673af; \n                                                color: white; \n                                                border: none; \n                                                padding: 5px 10px; \n                                                border-radius: 10rem; \n                                                margin: 5px;\n                                                cursor: pointer;">\n                                        Calculate\n                                    </button>\n                                </div>\n                            </div>\n                            </div>\n                        </div>\n                        </div>                    \n                </details>    \n            </div>\n        </div>\n    ',document.getElementById("calculate-button").addEventListener("click",(function(n){if(!document.getElementById("bnb-calculator-form").checkValidity())return;n.preventDefault();const e=document.getElementById("termYears").value,t=document.getElementById("propertyType").checked,a=document.getElementById("purchasePrice").value.replaceAll(",",""),o=document.getElementById("propertyPrice").value.replaceAll(",","");let r=document.getElementById("interestRate").value;r=t?r-.1:r;const l=r/12/100,i=a-o,c=l*i/(1-Math.pow(1+l,12*-e)),p=c-l*i;document.getElementById("t_interestRate").innerHTML=s(r)+"%",document.getElementById("t_termYears").innerHTML=s(12*e),document.getElementById("t_mortgageAmount").innerHTML=`&#8364; ${s(i)}`,document.getElementById("t_mInterest").innerHTML=`&#8364; ${s(l*i)}`,document.getElementById("t_mPrincipal").innerHTML=`&#8364; ${s(p)}`,document.getElementById("t_pmt").innerHTML=`&#8364; ${s(c)}`,document.getElementById("t_repay").innerHTML=`&#8364; ${s(c*e*12)}`,document.getElementById("t_interest").innerHTML=`&#8364; ${s(c*e*12-i)}`;const m=document.getElementById("startupCostTable"),u=m.getElementsByTagName("tr"),g=document.getElementById("propertyTypeCmb").value,y=parseFloat(document.getElementById("startupFeeFurnishing").value.replaceAll(",","")),h=parseFloat(document.getElementById("startupFeeRenovations").value.replaceAll(",",""));let b=0;m.getElementsByTagName("td")[1].innerHTML=`&#8364; ${s(.005*a)}`,m.getElementsByTagName("td")[3].innerHTML=`&#8364; ${s(.003*a)}`,m.getElementsByTagName("td")[5].innerHTML=`&#8364; ${s(.002*a)}`,m.getElementsByTagName("td")[7].innerHTML=`&#8364; ${s(a*g/100)}`,m.getElementsByTagName("td")[9].innerHTML=`&#8364; ${s(50)}`,m.getElementsByTagName("td")[11].innerHTML=`&#8364; ${s(.002*a)}`,m.getElementsByTagName("td")[13].innerHTML=`&#8364; ${s(o)}`,m.getElementsByTagName("td")[15].innerHTML=`&#8364; ${s(y+h)}`;for(let n=1;n<u.length-1;n++){let e=u[n].getElementsByTagName("td")[1].textContent.replace(/[^\d.,-]/g,"").replaceAll(",","");b+=parseFloat(e)}m.getElementsByTagName("td")[17].innerHTML=`<b>&#8364;${s(b)}</b>`,d("startupCostChart","Breakdown of start-up costs",[{name:"Notary Costs",y:.005*a,color:"#3498db"},{name:"Tax Consultancy Costs",y:.003*a,color:"#e74c3c"},{name:"Registry Costs",y:.002*a,color:"#f1c40f"},{name:"Purchase Taxes",y:a*g/100,color:"#2ecc71"},{name:"Registry Verification Costs",y:50,color:"#f39c12"},{name:"Valuation Costs",y:.002*a,color:"#16a085"},{name:"Deposit",y:1*o,color:"#95a5a6"},{name:"Renovation & Furniture",y:y+h,color:"#e67e22"}]),document.getElementById("t_mIMonthly").innerHTML=`&#8364; ${s(l*i)}`,document.getElementById("t_mIAnnual").innerHTML=`&#8364; ${s(l*i*12)}`,document.getElementById("t_mPMonthly").innerHTML=`&#8364; ${s(p)}`,document.getElementById("t_mPAnnual").innerHTML=`&#8364; ${s(12*p)}`,document.getElementById("t_mTMonthly").innerHTML=`&#8364; ${s(c)}`,document.getElementById("t_mTAnnual").innerHTML=`&#8364; ${s(12*c)}`,document.getElementById("t_mTotal").innerHTML=`&#8364; ${s(c*e*12)}`;const f=document.getElementById("rentalPrice").value.replaceAll(",",""),v=document.getElementById("rentalMax").value.replaceAll(",",""),x=document.getElementById("rentalRate").value.replaceAll(",",""),B=document.getElementById("rentalAnnual").value.replaceAll(",",""),E=f*v*x*B/1200,T=f*v*x*B/100;document.getElementById("t_rentalMonthly").innerHTML=`&#8364; ${s(E)}`,document.getElementById("t_rentalAnnual").innerHTML=`&#8364; ${s(T)}`;const M=document.getElementById("isAirBnB").checked,C=document.getElementById("isBooking").checked,I=document.getElementById("rentingAirBnB").value.replaceAll(",",""),w=document.getElementById("rentingBooking").value.replaceAll(",","");let L=0,A=0,k=0;M&&!C?(L=I*E/100,A=0,k=L):!M&&C?(L=0,A=w*E/100,k=A):M&&C&&(L=I*E/200,A=w*E/200,k=L+A),document.getElementById("t_airBnBMonthly").innerHTML=`&#8364; ${s(L)}`,document.getElementById("t_airBnBAnnual").innerHTML=`&#8364; ${s(12*L)}`,document.getElementById("t_bookingMonthly").innerHTML=`&#8364; ${s(A)}`,document.getElementById("t_bookingAnnual").innerHTML=`&#8364; ${s(12*A)}`,document.getElementById("t_rentingMonthly").innerHTML=`&#8364; ${s(k)}`,document.getElementById("t_rentingAnnual").innerHTML=`&#8364; ${s(12*k)}`,d("rentingChart","Renting Platform Fees",[{name:"AirBnB",y:12*L,color:"#3498db"},{name:"Booking.com",y:12*A,color:"#e74c3c"}]);const F=document.getElementById("operationalTable"),$=F.getElementsByTagName("tr"),H=document.getElementById("managementFee").value.replaceAll(",",""),N=document.getElementById("communityFee").value.replaceAll(",",""),P=document.getElementById("maintenanceFee").value.replaceAll(",",""),_=document.getElementById("insuranceFee").value.replaceAll(",",""),R=document.getElementById("licenseFee").value.replaceAll(",",""),z=document.getElementById("advertisingFee").value.replaceAll(",",""),S=document.getElementById("gasFee").value.replaceAll(",",""),q=document.getElementById("energyFee").value.replaceAll(",",""),j=document.getElementById("wifiFee").value.replaceAll(",",""),D=document.getElementById("waterFee").value.replaceAll(",","");let O=0,Y=0,U=0;F.getElementsByTagName("td")[1].innerHTML=`&#8364; ${s(H*E/100)}`,F.getElementsByTagName("td")[2].innerHTML=`&#8364; ${s(H*T/100)}`,F.getElementsByTagName("td")[4].innerHTML=`&#8364; ${s(N/12)}`,F.getElementsByTagName("td")[5].innerHTML=`&#8364; ${s(N)}`,F.getElementsByTagName("td")[7].innerHTML=`&#8364; ${s(P/12)}`,F.getElementsByTagName("td")[8].innerHTML=`&#8364; ${s(P)}`,F.getElementsByTagName("td")[10].innerHTML=`&#8364; ${s(_/12)}`,F.getElementsByTagName("td")[11].innerHTML=`&#8364; ${s(_)}`,F.getElementsByTagName("td")[13].innerHTML=`&#8364; ${s(R/12)}`,F.getElementsByTagName("td")[14].innerHTML=`&#8364; ${s(R)}`,F.getElementsByTagName("td")[16].innerHTML=`&#8364; ${s(z/12)}`,F.getElementsByTagName("td")[17].innerHTML=`&#8364; ${s(z)}`,F.getElementsByTagName("td")[19].innerHTML=`&#8364; ${s(S)}`,F.getElementsByTagName("td")[20].innerHTML=`&#8364; ${s(12*S)}`,F.getElementsByTagName("td")[22].innerHTML=`&#8364; ${s(q)}`,F.getElementsByTagName("td")[23].innerHTML=`&#8364; ${s(12*q)}`,F.getElementsByTagName("td")[25].innerHTML=`&#8364; ${s(j)}`,F.getElementsByTagName("td")[26].innerHTML=`&#8364; ${s(12*j)}`,F.getElementsByTagName("td")[28].innerHTML=`&#8364; ${s(D)}`,F.getElementsByTagName("td")[29].innerHTML=`&#8364; ${s(12*D)}`,F.getElementsByTagName("td")[31].innerHTML=`&#8364; ${s(L)}`,F.getElementsByTagName("td")[32].innerHTML=`&#8364; ${s(12*L)}`,F.getElementsByTagName("td")[34].innerHTML=`&#8364; ${s(A)}`,F.getElementsByTagName("td")[35].innerHTML=`&#8364; ${s(12*A)}`;for(let n=2;n<$.length-1;n++){let e=$[n].getElementsByTagName("td")[1],t=$[n].getElementsByTagName("td")[2],a=e.textContent.replace(/[^\d.,-]/g,"").replaceAll(",",""),o=t.textContent.replace(/[^\d.,-]/g,"").replaceAll(",","");O+=parseFloat(a),Y+=parseFloat(o),n<$.length-3&&(U+=parseFloat(o))}F.getElementsByTagName("th")[5].innerHTML=`&#8364;${s(O)}`,F.getElementsByTagName("th")[6].innerHTML=`&#8364;${s(Y)}`,d("operationalChart","Monthly Operational Costs",[{name:"Management Fee",y:H*E/100,color:"#3498db"},{name:"Comunal Fees",y:N/12,color:"#e74c3c"},{name:"Maintenance",y:P/12,color:"#f1c40f"},{name:"Insurance",y:_/12,color:"#2ecc71"},{name:"License Obtaining and Renweal Fees",y:R/12,color:"#f39c12"},{name:"Advertising Costs",y:z/12,color:"#16a085"},{name:"Gas Bills",y:S,color:"#95a5a6"},{name:"Energy Bills",y:q,color:"#e67e22"},{name:"WiFi Costs",y:j,color:"#f68e22"},{name:"Water Bills",y:D,color:"#d36e22"},{name:"AirBnB Fees Total",y:L,color:"#d36c69"},{name:"Booking.com Fees Total",y:A,color:"#3654db"}]);const G=document.getElementById("taxesTable"),V=document.getElementById("propertyTax").value.replaceAll(",",""),W=t?a*V*.008:a*V/100,X=document.getElementById("livingTypeCmb").value,J=T-U-.03*a-l*i*12-12*k;let K=0,Q=0,Z=0,nn=0;"1"==X?Q=.19*J:"2"==X?(K=J<=12450?.19:J<=20200?.24:J<=35200?.3:J<=6e4?.37:J<=3e5?.45:.47,Q=J*K):"3"==X&&(Q=.24*T),Z=W/12+Q/12,nn=W+Q,G.getElementsByTagName("td")[1].innerHTML=`&#8364; ${s(W/12)}`,G.getElementsByTagName("td")[2].innerHTML=`&#8364; ${s(W)}`,G.getElementsByTagName("td")[4].innerHTML=`&#8364; ${s(Q/12)}`,G.getElementsByTagName("td")[5].innerHTML=`&#8364; ${s(Q)}`,G.getElementsByTagName("th")[5].innerHTML=`&#8364; ${s(Z)}`,G.getElementsByTagName("th")[6].innerHTML=`&#8364; ${s(nn)}`;const en=document.getElementById("netIncomeTable"),tn=T-12*c-Y-nn,an=c*e*12+b;en.getElementsByTagName("td")[0].innerHTML=`&#8364; ${s(tn/12)}`,en.getElementsByTagName("td")[1].innerHTML=`&#8364; ${s(tn)}`,en.getElementsByTagName("th")[4].innerHTML=`${s(an/tn,1)} Years`,en.getElementsByTagName("th")[5].innerHTML=`${s(tn/an*100,1)}% Annual ROI`,d("netIncomeChart","",[{name:"Net Income",y:tn,color:"#3498db"},{name:"Taxes",y:nn,color:"#e74c3c"},{name:"Operational Costs",y:Y,color:"#f1c40f"},{name:"Mortgage Payment",y:12*c,color:"#2ecc71"}]);const on=document.getElementById("paymentPlanTable").querySelector("tbody");on.innerHTML="";let rn=i,ln=c;if(0!=rn&&0!=ln){let n=rn*r/1200,e=ln-n;for(let t=1;t<361;t++){const a=document.createElement("tr"),o=document.createElement("td");o.textContent=t;const l=document.createElement("td");l.textContent=`€ ${s(rn)}`;const i=document.createElement("td");i.textContent=`€ ${s(ln)}`;const d=document.createElement("td");d.textContent=`€ ${s(n)}`;const c=document.createElement("td");c.textContent=`€ ${s(e)}`,a.appendChild(o),a.appendChild(l),a.appendChild(i),a.appendChild(d),a.appendChild(c),on.appendChild(a),rn-=e,n=rn*r/1200,e=ln-n}}document.getElementById("result-table-container").style.display="block"}));const o=document.querySelectorAll(".info-icon"),r=document.getElementById("tooltip"),l=["Select the mortgage duration (10, 15, 20, 25, or 30 years).","Enter the agreed purchase price of the property.","Input the annual interest rate offered by the lender (Bank).","Enter the initial deposit amount (banks generally require at least 10% of the property’s value).","Select if the property has an Energy Performance Certificate (EPC) rating of A or B, eligible for a 0.1% loan rate reduction and 20% tax reduction.","Choose whether the property is new (subject to 11.5% tax) or resale (subject to 8% tax).","Enter the cost of furnishing the home.","Enter the estimated or actual cost of property renovations.","Enter the nightly rate charged per guest.","Enter the maximum number of guests allowed per booking.","Enter the average percentage of booked nights throughout the year.","Enter the total number of days the property is available for bookings each year.","Enter the percentage charged for property management services, typically between 10% and 30% of rental revenue.","Enter the annual amount of property tax, calculated as a percentage of the value of the property. 1.1% is usually the highest rate in Spain.","Enter the annual fee for shared property services, typically between €50 Euro and €200 in Spain.","Enter the estimated annual cost for property upkeep and repairs.","Enter the annual cost of insurance coverage for the property.","Enter the annual cost for license acquisition and renewal, generally around €500.","Enter the monthly budget for advertising and marketing the property.","Enter the average monthly cost of gas.","Enter the average monthly electricity expense.","Enter the monthly cost for internet services.","Enter the average monthly water bill.","Yes if listing on Airbnb, applying a 3% fee, or No if not.","Yes if listing on Booking.com, applying a 10% fee, or No if not.","Spanish Residents: Subject to progressive tax rates on rental income, eligible expenses recognized by Agencia Tributaria (Spanish Tax Agency):19% for income up to €12,45024% for income from €12,451 to €20,20030% for income from €20,201 to €35,20037% for income from €35,201 to €60,00045% for income from €60,001 to €300,000 47% for income over €300,000  EU citizens are subject to a 19% flat rate with eligible expenses recognized by Agencia Tributaria (Spanish Tax Agency). Non-EU/ES residents pay a 24% flat rate with no expenses recognized."];o.forEach((n=>{n.addEventListener("mouseenter",(function(e){const t=n.getAttribute("data-tooltip");r.textContent=l[t],r.style.display="block",r.style.left=e.pageX+"px",r.style.top=e.pageY+20+"px"})),n.addEventListener("mouseleave",(function(){r.style.display="none"}))})),document.getElementById("pdf-button").addEventListener("click",(function(){!function(){const n=document.getElementById("paymentPlanTable"),e=document.getElementById("result-table-container"),t=document.querySelectorAll(".chart-container");document.querySelector("#result-table-container summary").style.display="none",document.getElementById("loading-indicator").style.display="block",t.forEach(((n,e)=>{n.style.width="800px",n.style.height="auto"})),document.getElementById("pdf-button").style.display="none",n.style.display="revert",setTimeout((()=>{html2pdf().from(e).set({margin:1,filename:"my-document.pdf",html2canvas:{scale:2},jsPDF:{format:"a4",orientation:"portrait"}}).save().then((()=>{t.forEach((n=>{n.style.width="100%",n.style.height="auto"})),document.getElementById("pdf-button").style.display="block",n.style.display="none",document.querySelector("#result-table-container summary").style.display="flex",document.getElementById("loading-indicator").style.display="none"}))}),500)}()}));const i=document.getElementById("embedCode");function d(n,e,t){Highcharts.chart(n,{credits:{enabled:!1},chart:{type:"pie",backgroundColor:"#f3f4f6",options3d:{enabled:!0,alpha:45,beta:0}},title:{text:e,style:{fontSize:"20px"}},legend:{enabled:!0,layout:"vertical",align:"right",verticalAlign:"middle",width:120,itemStyle:{fontSize:"14px"},itemMarginTop:5,itemMarginBottom:5,floating:!1},plotOptions:{pie:{innerSize:0,depth:45,dataLabels:{enabled:!0,format:"{point.name}<br>€{point.y:.2f}",style:{fontSize:"14px"}}}},series:[{name:"Cost",data:t}],tooltip:{pointFormat:"{series.name}: <b>€{point.y:.2f}</b>"}})}function s(n,e){return(null==n||isNaN(n))&&(n=0),(null==e||isNaN(e))&&(e=2),new Intl.NumberFormat("en-US",{minimumFractionDigits:e,maximumFractionDigits:e}).format(n)}document.getElementById("bgColorPicker").addEventListener("input",(function(){document.getElementById("bgColor").value=this.value,document.getElementById("previewContainer").style.backgroundColor=this.value})),document.getElementById("textColorPicker").addEventListener("input",(function(){document.getElementById("textColor").value=this.value,document.querySelector("#previewContainer h4").style.setProperty("color",this.value,"important")})),document.getElementById("buttonColorPicker").addEventListener("input",(function(){document.getElementById("buttonColor").value=this.value,document.querySelector("#previewContainer button").style.setProperty("background-color",this.value,"important")})),document.getElementById("fontFamily").addEventListener("change",(function(){document.getElementById("previewContainer").style.fontFamily=this.value})),document.getElementById("generateButton").addEventListener("click",(function(){const n=`<div id='bnb-calculator'></div><script>const script = document.createElement('script');script.src = 'https://spaincheck.com/bnb-calculator.js';script.onload = function() {initializeBnBCalculator('bnb-calculator', {bgColor: '${document.getElementById("bgColor").value}',textColor: '${document.getElementById("textColor").value}',buttonColor: '${document.getElementById("buttonColor").value}',fontFamily: '${document.getElementById("fontFamily").value}'});};document.head.appendChild(script);<\/script>`.trim();i.value=n,i.style.height=`${i.scrollHeight}px`})),document.getElementById("copyButton").addEventListener("click",(function(){i.select(),i.setSelectionRange(0,99999),document.execCommand("copy"),alert("Embed code copied to clipboard!")})),document.querySelectorAll('input[type="text"]').forEach((n=>{n.addEventListener("blur",(n=>{const e=parseFloat(n.target.value.replaceAll(",",""))||0,t=new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e);n.target.value=`${t}`}))}))}));
=======
document.addEventListener("DOMContentLoaded",(function(){var n=document.getElementById("bnb-calculator");const e=document.createElement("meta");e.setAttribute("charset","UTF-8"),document.head.appendChild(e);const t=document.createElement("style");function a(n){return new Promise(((e,t)=>{const a=document.createElement("script");a.src=n,a.onload=()=>e(),a.onerror=()=>t(new Error(`Failed to load script: ${n}`)),document.head.appendChild(a)}))}t.type="text/css",t.innerText="\n        :root {\n            --primary-color: #00548C;\n            --secondary-color: #1673af;\n            --success-color: #059669;\n            --error-color: #dc2626;\n            --border-radius: 20px;\n            --transition-speed: 0.3s;\n            --box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1);\n            --input-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);\n            --hover-shadow: 0 6px 12px -2px rgba(0, 0, 0, 0.15);\n        }\n        #modal-container {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            position: fixed;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n            background: rgba(0, 0, 0, 0.5);\n            z-index: 100;\n        }\n        #calculator-modal {\n            background: #f3f4f6;\n            width: 80%;\n            height: 85%;\n            max-width: 1000px;\n            border-radius: 8px;\n            padding: 20px;\n            font-family: Arial, sans-serif;\n            box-shadow: 0px 4px 12px rgba(0, 0, 0, 0.2);\n            overflow-y: scroll;\n            scrollbar-width: none;\n        }\n        #calculator-modal h2 {\n            text-align: center;\n            color: #003b73;\n            margin-bottom: 20px;\n            font-size: 35px !important;\n        }\n        .section-title {\n            color: #003b73;\n            font-weight: bold;\n            margin-top: 20px;\n        }\n        .form-group {\n            display: flex;\n            gap: 10px;\n            margin-bottom: 15px;\n        }\n        .form-group label {\n            flex: 1;\n            align-content: center;\n            width:50%;\n        }\n        fieldset {\n            margin-top:15px;\n            color: #003b73;\n            font-weight: bold;\n            border-radius: 12px;\n            min-width: unset;\n        }\n        .form-group input,select {\n            flex: 1;\n            padding: 8px;\n            border: 1px solid #ccc;\n            border-radius: 4px;\n            font-size: 1em;\n            height:35px;\n            width:50%;\n        }\n        .bnb-button {\n            width: 100%;\n            background-color: #007bff;\n            color: white;\n            font-size: 1.2em;\n            border: none;\n            border-radius: 4px;\n            padding: 10px;\n            cursor: pointer;\n            margin-top: 20px;\n        }\n        .bnb-button:hover {\n            background-color: #0056b3;\n        }\n\n        .result-table {\n            width: 100%;\n            margin-top: 55px;\n            border-collapse: collapse;\n            background-color: #f0f0f0;\n        }\n        .result-table, .result-table th, .result-table td {\n            border: 1px solid #ccc;\n            padding: 8px;\n            text-align: center;\n        }\n        .result-table th {\n            background-color: #007bff;\n            font-weight: bold;\n            color: white;\n        }\n        .result-table td {\n            background-color: #f3f4f6;\n        }\n        .chart-container {\n            width:100%;\n            height:auto;\n            margin-top: 30px;\n        }\n\n        .info-icon {\n            display: inline-flex;\n            align-items: center;\n            justify-content: center;\n            width: 16px;\n            height: 16px;\n            border-radius: 50%;\n            background-color: #1673af;\n            color: white;\n            font-size: 12px;\n            font-style: italic;\n            cursor: help;\n        }    \n\n        .tooltip {\n            position: absolute;\n            background-color: #333;\n            color: #fff;\n            margin-left: 15px;\n            padding: 5px 10px;\n            border-radius: 5px;\n            z-index: 1000;\n            width: 250px;\n            height: auto;\n            transform: translateY(-100%); \n        }\n\n        .detail-div{\n            background: #f3f4f6;\n            border-radius: 10px;\n            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n            overflow: hidden;\n        }\n\n        .detail-summary{\n            padding: 0rem 1.5rem;\n            cursor: pointer;\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            border-bottom: 1px solid #e9ecef;\n        }\n\n        .toggle-icon::before {\n            margin-right: 1px;\n        }\n        .toggle-icon::before {\n            content: '+';\n            font-weight: bolder;\n            font-size: 1.5rem;\n            color:#003b73;\n        }\n\n        details[open] .toggle-icon::before {\n            content: '-';\n        }        \n\n        .embed-generator {\n            padding: 2rem;\n        }\n\n        .embed-calculator-section * {\n            box-sizing: border-box;\n        }\n\n        .settings-grid {\n            display: grid;\n            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n            gap: 1.5rem;\n            margin-bottom: 2rem;\n        }\n\n        .setting-group {\n            display: flex;\n            flex-direction: column;\n            gap: 0.5rem;\n        }\n\n        .color-input-group {\n            display: flex;\n            gap: 0.5rem;\n        }\n\n        .color-text, .font-select, .embed-code-display {\n            width: 100%;\n            padding: 0.75rem 1rem;\n            border: 2px solid #e9ecef;\n            border-radius: 0.8rem;\n            font-size: 1rem;\n            margin-top: 0.25rem;\n            background: white;\n            box-shadow: var(--input-shadow);\n            transition: all var(--transition-speed) ease;\n        }\n\n        .color-picker {\n            -webkit-appearance: none;\n            -moz-appearance: none;\n            appearance: none;\n            background: none;\n            border: 0;\n            cursor: pointer;\n            width: 33px;\n            padding: 0;\n            position: relative;\n            outline: 1px solid rgba(0, 0, 0, 0.2);\n            \n            box-shadow: 2px 2px 0px 0px rgba(0, 0, 0, 0.2);\n            margin-left: 5px;\n            align-self: center;\n        }\n\n        .embed-code-calculator-section {\n            margin: 2rem 0;\n            background: #fff;\n            padding: 1rem;\n            border-radius: 8px;\n        }\n\n        .embed-header {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-bottom: 1rem;\n        }\n\n        @media (max-width: 680px) {\n            .embed-header {\n                display: block;\n            }\n            .embed-generator button {\n                font-size: 13px !important;\n            }   \n        }\n\n        .embed-header .button-group {\n            display: flex;\n            gap: 10px;\n        }\n\n        .embed-generator button {\n            font-family: var(--font-heading-family);\n            font-style: var(--font-heading-style);\n            font-weight: var(--font-heading-weight);\n            letter-spacing: calc(var(--font-heading-scale)* .06rem);\n            background-color: var(--secondary-color);\n            color: white;\n            border: none;\n            padding: .6rem 2rem;\n            border-radius: 10rem;\n            font-size: 1.2rem;\n            cursor: pointer;\n            transition: all var(--transition-speed);\n            box-shadow: 0 4px 6px rgba(0, 92, 194, 0.2);\n            position: relative;\n            overflow: hidden;\n        }\n\n        .mini-preview-calculator-section {\n            margin-top: 2rem;\n        }\n\n        .preview-container {\n            border: 1px solid #ddd;\n            border-radius: 8px;\n            padding: 1rem;\n            height: auto;\n            overflow: hidden;\n        }\n\n        @media (max-width: 480px) {\n            .tooltip {\n                width:44%;\n            }\n        }\n            \n        @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n        }\n    ",document.head.appendChild(t),async function(){try{await a("https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.2/html2pdf.bundle.min.js"),await a("https://code.highcharts.com/highcharts.js"),await a("https://code.highcharts.com/highcharts-3d.js")}catch(n){console.error(n)}}(),n.innerHTML='\n        <div id="loading-indicator" style="display: none; position: absolute; top: 0; left: 0; z-index: 9999; width:100%; height:100%; background-color: #fff;">\n                    <div class="spinner" style="position: relative; top:50%; left:45%; border: 6px solid #f3f3f3; border-top: 6px solid #3498db; border-radius: 50%; width: 30px; height: 30px; animation: spin 1s linear infinite;"></div>\n        </div>\n        <div id="modal-container">\n            \n            <div id="calculator-modal">\n                \n                <div id="tooltip" class="tooltip"  style="display: none;"></div>\n                <h2>BnB Profit Calculator for Spain</h2>\n                <form id="bnb-calculator-form">\n\n                    <fieldset>\n                        <legend>Property Value and Financing:</legend>\n                        <div class="section-title"></div>\n                        <div class="form-group">\n                            <label>Mortgage Term Years <span class="info-icon" data-tooltip="0">i<span></label>\n                            <select id="termYears"> \n                                <option>10</option>\n                                <option>15</option>\n                                <option>20</option>\n                                <option>25</option>\n                                <option>30</option>\n                            </select>\n                        </div>\n                        <div class="form-group">\n                            <label>Property Purchase Price (&euro;) <span class="info-icon" data-tooltip="1">i<span></label>\n                            <input type="number" id="purchasePrice" placeholder="0" required>\n                        </div>\n                        <div class="form-group">\n                            <label>Annual Percentage Rate (%) <span class="info-icon" data-tooltip="2">i<span></label>\n                            <input type="number" id="interestRate" placeholder="0" required min="0" max="100" step="0.01">\n                        </div>\n                        <div class="form-group">\n                            <label>Deposit (&euro;) <span class="info-icon" data-tooltip="3">i<span></label>\n                            <input type="number" id="propertyPrice" placeholder="0" required>\n                        </div>\n                        <div class="form-group">\n                            <label>Energy-Efficient Property? <span class="info-icon" data-tooltip="4">i<span></label>\n                            <input type="checkbox" id="propertyType" style = "height:30px;">\n                        </div>\n                        <div class="form-group">\n                            <label>Property Type <span class="info-icon" data-tooltip="5">i<span></label>\n                            <select id="propertyTypeCmb"> \n                                <option value = "11.5">New</option>\n                                <option value = "8">Resale</option>\n                            </select>\n                        </div>\n                    </fieldset>\n                    \n                    <fieldset>\n                        <legend>Startup Fees:</legend>\n                        <div class="section-title"></div>\n                        <div class="form-group">\n                            <label>Home Furnishing (&euro;) <span class="info-icon" data-tooltip="6">i<span></label>\n                            <input type="number" id="startupFeeFurnishing" placeholder="0" required value="5000">\n                        </div>\n                        <div class="form-group">\n                            <label>Renovations (&euro;) <span class="info-icon" data-tooltip="7">i<span></label>\n                            <input type="number" id="startupFeeRenovations" placeholder="0" required value="10000">\n                        </div>\n                    </fieldset>    \n\n                    <fieldset>\n                        <legend>Rental Income Criteria:</legend>\n                        <div class="section-title"></div>\n                        <div class="form-group">\n                            <label>Price per night per Guest (&euro;) <span class="info-icon" data-tooltip="8">i<span></label>\n                            <input type="number" id="rentalPrice" placeholder="0" required value="80">\n                        </div>\n                        <div class="form-group">\n                            <label>Nr of Max. Guests <span class="info-icon" data-tooltip="9">i<span></label>\n                            <input type="number" id="rentalMax" placeholder="0" required value="3">\n                        </div>\n                        <div class="form-group">\n                            <label>Occupancy Rate (%) <span class="info-icon" data-tooltip="10">i<span></label>\n                            <input type="number" id="rentalRate" placeholder="0" required min="0" max="100" step="0.01" value="70">\n                        </div>\n                        <div class="form-group">\n                            <label>Operating Days Annually <span class="info-icon" data-tooltip="11">i<span></label>\n                            <input type="number" id="rentalAnnual" placeholder="0" required value="365">\n                        </div>\n                    </fieldset>\n\n                    <fieldset>\n                        <legend>Operating Expenses:</legend>\n                        <div class="section-title"></div>\n                        <div class="form-group">\n                            <label>Management Fee (%) <span class="info-icon" data-tooltip="12">i<span></label>\n                            <input type="number" id="managementFee" placeholder="0" required min="0" max="100" step="0.01" value="20">\n                        </div>\n                        <div class="form-group">\n                            <label>Property Tax (%) <span class="info-icon" data-tooltip="13">i<span></label>\n                            <input type="number" id="propertyTax" placeholder="0" required min="0" max="100" step="0.01" value="1.1">\n                        </div>\n                        <div class="form-group">\n                            <label>Community Fees (&euro;) <span class="info-icon" data-tooltip="14">i<span></label>\n                            <input type="number" id="communityFee" placeholder="0" required value="1300">\n                        </div>\n                        <div class="form-group">\n                            <label>Maintenance and repairs (&euro;) <span class="info-icon" data-tooltip="15">i<span></label>\n                            <input type="number" id="maintenanceFee" placeholder="0" required value="2000">\n                        </div>\n                        <div class="form-group">\n                            <label>Insurance (&euro;) <span class="info-icon" data-tooltip="16">i<span></label>\n                            <input type="number" id="insuranceFee" placeholder="0" required value="400">\n                        </div>\n                        <div class="form-group">\n                            <label>License Obtaining and Renweal Fees (&euro;) <span class="info-icon" data-tooltip="17">i<span></label>\n                            <input type="number" id="licenseFee" placeholder="0" required value="500">\n                        </div>\n                        <div class="form-group">\n                            <label>Advertising Costs per Month (&euro;) <span class="info-icon" data-tooltip="18">i<span></label>\n                            <input type="number" id="advertisingFee" placeholder="0" required value="100">\n                        </div>\n                        <div class="form-group">\n                            <label>Gas Bill Monthy (&euro;) <span class="info-icon" data-tooltip="19">i<span></label>\n                            <input type="number" id="gasFee" placeholder="0" required value="30">\n                        </div>\n                        <div class="form-group">\n                            <label>Energy Bill Monthly (&euro;) <span class="info-icon" data-tooltip="20">i<span></label>\n                            <input type="number" id="energyFee" placeholder="0" required value="100">\n                        </div>\n                        <div class="form-group">\n                            <label>WiFi Monthly (&euro;) <span class="info-icon" data-tooltip="21">i<span></label>\n                            <input type="number" id="wifiFee" placeholder="0" required value="40">\n                        </div>\n                        <div class="form-group">\n                            <label>Water Bill Monthly (&euro;) <span class="info-icon" data-tooltip="22">i<span></label>\n                            <input type="number" id="waterFee" placeholder="0" required value="10">\n                        </div>\n                    </fieldset>    \n\n                    <fieldset>\n                        <legend>BnB Renting Platforms:</legend>\n                        <div class="section-title"></div>\n                        <div class="form-group">\n                            <label>AirBnB (%) <span class="info-icon" data-tooltip="23">i<span></label>\n                            <input type="number" id="rentingAirBnB" placeholder="0" required min="0" max="100" step="0.01" value="3">\n                            <input type="checkbox" id="isAirBnB" checked>\n                        </div>\n                        <div class="form-group">\n                            <label>Booking.com (%) <span class="info-icon" data-tooltip="24">i<span></label>\n                            <input type="number" id="rentingBooking" placeholder="0" required min="0" max="100" step="0.01" value="10">\n                            <input type="checkbox" id="isBooking" checked>\n                        </div>\n                    </fieldset>  \n\n                     <fieldset>\n                        <legend>Living Situation:</legend>\n                        <div class="form-group">\n                            <label>Living Situation Select <span class="info-icon" data-tooltip="25">i<span></label>\n                            <select id="livingTypeCmb"> \n                                <option value = "1">EU Resident</option>\n                                <option value = "2">Spanish Resident</option>\n                                <option value = "3">Non-resident ES or EU</option>\n                            </select>\n                        </div>\n                    </fieldset>  \n                    <button type="submit" class="bnb-button" id="calculate-button">Calculate Break Even</button>\n                </form>\n                \n                <div id="result-table-container" style="display: none; background-color: #f3f4f6;">\n                    <details class="detail-div">\n                    <summary class="detail-summary"><h2 style="font-size:1.5em !important;">Calculator Result</h2> <span class="toggle-icon"></span></summary>\n                    <table class="result-table" style = "display:none">\n                        <thead>\n                            <tr>\n                                <th >Interest Rate for Energy Certificate A and B</th>\n                                <th colspan="5">Mortgage Calculations</th>\n                            </tr>\n                            <tr>\n                                <td rowspan = "4" id = \'t_interestRate\'></td>\n                                <td>Total Monthly Payments</td>\n                                <td>Mortgage Amount</td>\n                                <td>Monthly Payment</td>\n                                <td>Total To Repay</td>\n                                <td>Interests</td>\n                            </tr>\n                            <tr>\n                                <td id = \'t_termYears\'></td>\n                                <td id = \'t_mortgageAmount\'></td>\n                                <td rowspan = "3" id = \'t_pmt\'></td>\n                                <td rowspan = "3" id = \'t_repay\'></td>\n                                <td rowspan = "3" id = \'t_interest\'></td>\n                            </tr>\n                            <tr>\n                                <td>Monthly Interest</td>\n                                <td>Monthly Principal</td>\n                            </tr>\n                            <tr>\n                                <td id = \'t_mInterest\'></td>\n                                <td id = \'t_mPrincipal\'></td>\n                            </tr>\n                        </thead>\n                    </table>\n\n                    <table class="result-table" id = "startupCostTable">\n                        <thead>\n                            <tr>\n                                <th colspan="2" style = "font-size:25px">Star-Up Costs</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            <tr>\n                                <td>Notary Costs</td>\n                                <td></td>\n                            </tr>\n                            <tr>\n                                <td>Tax Consultancy Costs</td>\n                                <td></td>\n                            </tr>\n                            <tr>\n                                <td>Registry Costs</td>\n                                <td></td>\n                            </tr>\n                            <tr>\n                                <td>Purchase Taxes</td>\n                                <td></td>\n                            </tr>\n                            <tr>\n                                <td>Registry Verification Costs</td>\n                                <td></td>\n                            </tr>\n                            <tr>\n                                <td>Valuation Costs</td>\n                                <td></td>\n                            </tr>\n                            <tr>\n                                <td>Deposit</td>\n                                <td></td>\n                            </tr>\n                            <tr>\n                                <td>Renovation & Furniture</td>\n                                <td></td>\n                            </tr>\n                            <tr class="total">\n                                <td>Total Star-Up Costs</td>\n                                <td></td>\n                            </tr>\n                        </tbody>\n                    </table>    \n\n                    <div id="startupCostChart" class="chart-container"></div>\n\n                    <table class="result-table" id = "mortgageTable">\n                        <thead>\n                            <tr>\n                                <th colspan="2" style = "font-size:25px">Mortgage Details</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            <tr>\n                                <th colspan="2">Mortgage Interest</th>\n                            </tr>\n                            <tr>\n                                <th>Monthly</th>\n                                <th>Annual</th>\n                            </tr>\n                            <tr>\n                                <td id="t_mIMonthly"></td>\n                                <td id="t_mIAnnual"></td>\n                            </tr>\n                            <tr>\n                                <th colspan="2">Mortgage Principal</th>\n                            </tr>\n                            <tr>\n                                <th>Monthly</th>\n                                <th>Annual</th>\n                            </tr>\n                            <tr>\n                                <td id="t_mPMonthly"></td>\n                                <td id="t_mPAnnual"></td>\n                            </tr>\n                            <tr>\n                                <th colspan="2">Total Mortgage Payment</th>\n                            </tr>\n                            <tr>\n                                <th>Monthly</th>\n                                <th>Annual</th>\n                            </tr> \n                            <tr>\n                                <td id="t_mTMonthly"></td>\n                                <td id="t_mTAnnual"></td>\n                            </tr>\n                            <tr>\n                                <th>Total Mortgage</th>\n                                <th id="t_mTotal"></th>\n                            </tr> \n                        </tbody>\n                    </table>\n\n                    <table class="result-table" id = "rentalTable">\n                        <thead>\n                            <tr>\n                                <th colspan="2" style = "font-size:25px">Rental Brut Income</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            <tr>\n                                <th>Monthly</th>\n                                <th>Annual</th>\n                            </tr>\n                            <tr>\n                                <td id="t_rentalMonthly"></td>\n                                <td id="t_rentalAnnual"></td>\n                            </tr>\n                        </tbody>\n                    </table>\n\n                    <table class="result-table" id = "rentingTable">\n                        <thead>\n                            <tr>\n                                <th colspan="2" style = "font-size:25px">Renting Platforms Fees</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            <tr>\n                                <th colspan="2">AirBnB Fees Total</th>\n                            </tr>\n                            <tr>\n                                <th>Monthly</th>\n                                <th>Annual</th>\n                            </tr>\n                            <tr>\n                                <td id="t_airBnBMonthly"></td>\n                                <td id="t_airBnBAnnual"></td>\n                            </tr>\n                            <tr>\n                                <th colspan="2">Booking.com Fees Total</th>\n                            </tr>\n                            <tr>\n                                <th>Monthly</th>\n                                <th>Annual</th>\n                            </tr>\n                            <tr>\n                                <td id="t_bookingMonthly"></td>\n                                <td id="t_bookingAnnual"></td>\n                            </tr>\n                            <tr>\n                                <th colspan="2">Total Renting Platform(s) Fees</th>\n                            </tr>\n                            <tr>\n                                <th id="t_rentingMonthly"></th>\n                                <th id="t_rentingAnnual"></th>\n                            </tr>\n                        </tbody>\n                    </table>\n\n                    <div id="rentingChart" class="chart-container"></div>\n\n                    <table class="result-table" id = "operationalTable">\n                        <thead>\n                            <tr>\n                                <th colspan="3" style = "font-size:25px">Operational Costs</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            <tr>\n                                <th></th>\n                                <th>Monthly</th>\n                                <th>Annual</th>\n                            </tr>\n                            <tr>\n                                <td>Management Fee</td>\n                                <td></td>\n                                <td></td>\n                            </tr>\n                            <tr>\n                                <td>Comunal Fees</td>\n                                <td></td>\n                                <td></td>\n                            </tr>\n                            <tr>\n                                <td>Maintenance</td>\n                                <td></td>\n                                <td></td>\n                            </tr>\n                            <tr>\n                                <td>Insurance</td>\n                                <td></td>\n                                <td></td>\n                            </tr>\n                            <tr>\n                                <td>License Obtaining and Renweal Fees</td>\n                                <td></td>\n                                <td></td>\n                            </tr>\n                            <tr>\n                                <td>Advertising Costs</td>\n                                <td></td>\n                                <td></td>\n                            </tr>\n                            <tr>\n                                <td>Gas Bills</td>\n                                <td></td>\n                                <td></td>\n                            </tr>\n                            <tr>\n                                <td>Energy Bills</td>\n                                <td></td>\n                                <td></td>\n                            </tr>\n                            <tr>\n                                <td>WiFi Costs</td>\n                                <td></td>\n                                <td></td>\n                            </tr>\n                            <tr>\n                                <td>Water Bills</td>\n                                <td></td>\n                                <td></td>\n                            </tr>\n                            <tr>\n                                <td>AirBnB Fees Total</td>\n                                <td></td>\n                                <td></td>\n                            </tr>\n                            <tr>\n                                <td>Booking.com Fees Total</td>\n                                <td></td>\n                                <td></td>\n                            </tr>\n                            <tr>\n                                <th>Total</th>\n                                <th></th>\n                                <th></th>\n                            </tr>\n                        </tbody>\n                    </table>\n\n                    <div id="operationalChart" class="chart-container"></div>\n\n                    <table class="result-table" id = "taxesTable">\n                        <thead>\n                            <tr>\n                                <th colspan="3" style = "font-size:25px">Taxes</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            <tr>\n                                <th></th>\n                                <th>Monthly</th>\n                                <th>Annual</th>\n                            </tr>\n                            <tr>\n                                <td>Property Tax Fee</td>\n                                <td></td>\n                                <td></td>\n                            </tr>\n                            <tr>\n                                <td>Rental Income Tax</td>\n                                <td></td>\n                                <td></td>\n                            </tr>\n                            <tr>\n                                <th>Total Taxes</th>\n                                <th></th>\n                                <th></th>\n                            </tr>\n                        </tbody>\n                    </table>\n\n                    <table class="result-table" id = "netIncomeTable">\n                        <thead>\n                            <tr>\n                                <th colspan="2" style = "font-size:25px">Net Income</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            <tr>\n                                <th>Monthly</th>\n                                <th>Annual</th>\n                            </tr>\n                            <tr>\n                                <td></td>\n                                <td></td>\n                            </tr>\n                            <tr>\n                                <th colspan="2">Break-even ROI in Years</th>\n                            </tr>\n                            <tr>\n                                <th colspan="2">7.6 Years</th>\n                            </tr>\n                            <tr>\n                                <th colspan="2">13.1% Annual ROI</th>\n                            </tr>\n                        </tbody>\n                    </table>\n\n                    <div id="netIncomeChart" class="chart-container"></div>\n                    \n                    <form>\n                        <button type="button" class="bnb-button" id="pdf-button">PDF Download</button>\n                    </form>\n                    <table class="result-table" id = "paymentPlanTable" style="display:none; margin-top:220px;">\n                        <thead>\n                            <tr>\n                                <th colspan="5" style = "font-size:25px">Mortgage Repayment Plan</th>\n                            </tr>\n                            <tr>\n                                <th>Period</th>\n                                <th>Beginning Balance</th>\n                                <th>Monthly Payment</th>\n                                <th>Interest Payment</th>\n                                <th>Principal Payment</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            \n                        </tbody>\n                    </table>\n                    </details>\n                </div>\n                \n                <details class="detail-div" style="margin-top:20px;">\n                    <summary class="detail-summary"><h2 style="font-size:1.3em !important;">Embed Code Generate</h2> <span class="toggle-icon"></span></summary>\n                        <div class="embed-generator">\n                                <div class="customization-panel">\n                                <div class="settings-grid">\n                                    <div class="setting-group">\n                                    <label for="bgColor">Background Color</label>\n                                    <div class="color-input-group">\n                                        <input type="text" id="bgColor" value="#f3f4f6" class="color-text">\n                                        <input type="color" id="bgColorPicker" value="#f3f4f6" class="color-picker">\n                                    </div>\n                                    </div>\n                        \n                                    <div class="setting-group">\n                                    <label for="textColor">Text Color</label>\n                                    <div class="color-input-group">\n                                        <input type="text" id="textColor" value="#00548C" class="color-text">\n                                        <input type="color" id="textColorPicker" value="#00548C" class="color-picker">\n                                    </div>\n                                    </div>\n                        \n                                    <div class="setting-group">\n                                    <label for="buttonColor">Button Color</label>\n                                    <div class="color-input-group">\n                                        <input type="text" id="buttonColor" value="#1673af" class="color-text">\n                                        <input type="color" id="buttonColorPicker" value="#1673af" class="color-picker">\n                                    </div>\n                                    </div>\n                        \n                                    <div class="setting-group">\n                                    <label for="fontFamily">Font Family</label>\n                                    <select id="fontFamily" class="font-select">\n                                        <option value="Arial, sans-serif">Arial</option>\n                                        <option value="\'Times New Roman\', serif">Times New Roman</option>\n                                        <option value="\'Helvetica Neue\', sans-serif">Helvetica Neue</option>\n                                        <option value="\'Roboto\', sans-serif">Roboto</option>\n                                    </select>\n                                    </div>\n                                </div>\n                        \n                                <div class="embed-code-calculator-section">\n                                    <div class="embed-header">\n                                    <h3>Calculator Code</h3>\n                                    <div class="button-group">\n                                        <button id="generateButton" class="copy-button">Generate Code</button>\n                                        <button id="copyButton" class="copy-button" style="display: inline-block;" data-clipboard-target="#embedCode">Copy Code</button>\n                                    </div>\n                                    </div>\n                                    <textarea id="embedCode" class="embed-code-display" style="resize: none; width: 100%; overflow:hidden" readonly=""></textarea>\n                                </div>\n                        \n                                <div class="mini-preview-calculator-section">\n                                    <h3>Preview</h3>\n                                    <div id="previewContainer" class="preview-container" style="background-color: rgb(243, 244, 246); font-family: Arial, sans-serif;">\n                                <div style="text-align: center; padding: 10px;">\n                                    <h4 style="color: #00548C !important; margin: 0 0 10px 0;">Spain Tax Calculator</h4>\n                                    <input type="text" placeholder="Sample Input" style="width: 80%; \n                                                    padding: 5px; \n                                                    margin: 5px; \n                                                    border: 1px solid #ddd; \n                                                    border-radius: 0.8rem;">\n                                    <button style="background-color: #1673af; \n                                                color: white; \n                                                border: none; \n                                                padding: 5px 10px; \n                                                border-radius: 10rem; \n                                                margin: 5px;\n                                                cursor: pointer;">\n                                        Calculate\n                                    </button>\n                                </div>\n                            </div>\n                            </div>\n                        </div>\n                        </div>                    \n                </details>    \n            </div>\n        </div>\n    ',document.getElementById("calculate-button").addEventListener("click",(function(n){if(!document.getElementById("bnb-calculator-form").checkValidity())return;n.preventDefault();const e=document.getElementById("termYears").value,t=document.getElementById("propertyType").checked,a=document.getElementById("purchasePrice").value,o=document.getElementById("propertyPrice").value;let r=document.getElementById("interestRate").value;r=t?r-.1:r;const l=r/12/100,i=a-o,c=l*i/(1-Math.pow(1+l,12*-e)),p=c-l*i;document.getElementById("t_interestRate").innerHTML=s(r)+"%",document.getElementById("t_termYears").innerHTML=s(12*e),document.getElementById("t_mortgageAmount").innerHTML=`&#8364; ${s(i)}`,document.getElementById("t_mInterest").innerHTML=`&#8364; ${s(l*i)}`,document.getElementById("t_mPrincipal").innerHTML=`&#8364; ${s(p)}`,document.getElementById("t_pmt").innerHTML=`&#8364; ${s(c)}`,document.getElementById("t_repay").innerHTML=`&#8364; ${s(c*e*12)}`,document.getElementById("t_interest").innerHTML=`&#8364; ${s(c*e*12-i)}`;const m=document.getElementById("startupCostTable"),u=m.getElementsByTagName("tr"),g=document.getElementById("propertyTypeCmb").value,y=parseFloat(document.getElementById("startupFeeFurnishing").value),h=parseFloat(document.getElementById("startupFeeRenovations").value);let b=0;m.getElementsByTagName("td")[1].innerHTML=`&#8364; ${s(.005*a)}`,m.getElementsByTagName("td")[3].innerHTML=`&#8364; ${s(.003*a)}`,m.getElementsByTagName("td")[5].innerHTML=`&#8364; ${s(.002*a)}`,m.getElementsByTagName("td")[7].innerHTML=`&#8364; ${s(a*g/100)}`,m.getElementsByTagName("td")[9].innerHTML=`&#8364; ${s(50)}`,m.getElementsByTagName("td")[11].innerHTML=`&#8364; ${s(.002*a)}`,m.getElementsByTagName("td")[13].innerHTML=`&#8364; ${s(o)}`,m.getElementsByTagName("td")[15].innerHTML=`&#8364; ${s(y+h)}`;for(let n=1;n<u.length-1;n++){let e=u[n].getElementsByTagName("td")[1].textContent.replace(/[^\d.,-]/g,"").replaceAll(",","");b+=parseFloat(e)}m.getElementsByTagName("td")[17].innerHTML=`&#8364;${s(b)}`,d("startupCostChart","Breakdown of start-up costs",[{name:"Notary Costs",y:.005*a,color:"#3498db"},{name:"Tax Consultancy Costs",y:.003*a,color:"#e74c3c"},{name:"Registry Costs",y:.002*a,color:"#f1c40f"},{name:"Purchase Taxes",y:a*g/100,color:"#2ecc71"},{name:"Registry Verification Costs",y:50,color:"#f39c12"},{name:"Valuation Costs",y:.002*a,color:"#16a085"},{name:"Deposit",y:1*o,color:"#95a5a6"},{name:"Renovation & Furniture",y:y+h,color:"#e67e22"}]),document.getElementById("t_mIMonthly").innerHTML=`&#8364; ${s(l*i)}`,document.getElementById("t_mIAnnual").innerHTML=`&#8364; ${s(l*i*12)}`,document.getElementById("t_mPMonthly").innerHTML=`&#8364 ;${s(p)}`,document.getElementById("t_mPAnnual").innerHTML=`&#8364; ${s(12*p)}`,document.getElementById("t_mTMonthly").innerHTML=`&#8364 ;${s(c)}`,document.getElementById("t_mTAnnual").innerHTML=`&#8364; ${s(12*c)}`,document.getElementById("t_mTotal").innerHTML=`&#8364; ${s(c*e*12)}`;const f=document.getElementById("rentalPrice").value,v=document.getElementById("rentalMax").value,x=document.getElementById("rentalRate").value,B=document.getElementById("rentalAnnual").value,E=f*v*x*B/1200,T=f*v*x*B/100;document.getElementById("t_rentalMonthly").innerHTML=`&#8364; ${s(E)}`,document.getElementById("t_rentalAnnual").innerHTML=`&#8364; ${s(T)}`;const M=document.getElementById("isAirBnB").checked,C=document.getElementById("isBooking").checked,I=document.getElementById("rentingAirBnB").value,w=document.getElementById("rentingBooking").value;let L=0,F=0,k=0;M&&!C?(L=I*E/100,F=0,k=L):!M&&C?(L=0,F=w*E/100,k=F):M&&C&&(L=I*E/200,F=w*E/200,k=L+F),document.getElementById("t_airBnBMonthly").innerHTML=`&#8364; ${s(L)}`,document.getElementById("t_airBnBAnnual").innerHTML=`&#8364; ${s(12*L)}`,document.getElementById("t_bookingMonthly").innerHTML=`&#8364; ${s(F)}`,document.getElementById("t_bookingAnnual").innerHTML=`&#8364; ${s(12*F)}`,document.getElementById("t_rentingMonthly").innerHTML=`&#8364; ${s(k)}`,document.getElementById("t_rentingAnnual").innerHTML=`&#8364; ${s(12*k)}`,d("rentingChart","Renting Platform Fees",[{name:"AirBnB",y:12*L,color:"#3498db"},{name:"Booking.com",y:12*F,color:"#e74c3c"}]);const $=document.getElementById("operationalTable"),H=$.getElementsByTagName("tr"),N=document.getElementById("managementFee").value,A=document.getElementById("communityFee").value,P=document.getElementById("maintenanceFee").value,_=document.getElementById("insuranceFee").value,R=document.getElementById("licenseFee").value,S=document.getElementById("advertisingFee").value,z=document.getElementById("gasFee").value,q=document.getElementById("energyFee").value,j=document.getElementById("wifiFee").value,D=document.getElementById("waterFee").value;let O=0,Y=0,U=0;$.getElementsByTagName("td")[1].innerHTML=`&#8364; ${s(N*E/100)}`,$.getElementsByTagName("td")[2].innerHTML=`&#8364; ${s(N*T/100)}`,$.getElementsByTagName("td")[4].innerHTML=`&#8364; ${s(A/12)}`,$.getElementsByTagName("td")[5].innerHTML=`&#8364; ${s(A)}`,$.getElementsByTagName("td")[7].innerHTML=`&#8364; ${s(P/12)}`,$.getElementsByTagName("td")[8].innerHTML=`&#8364; ${s(P)}`,$.getElementsByTagName("td")[10].innerHTML=`&#8364; ${s(_/12)}`,$.getElementsByTagName("td")[11].innerHTML=`&#8364; ${s(_)}`,$.getElementsByTagName("td")[13].innerHTML=`&#8364; ${s(R/12)}`,$.getElementsByTagName("td")[14].innerHTML=`&#8364; ${s(R)}`,$.getElementsByTagName("td")[16].innerHTML=`&#8364; ${s(S/12)}`,$.getElementsByTagName("td")[17].innerHTML=`&#8364; ${s(S)}`,$.getElementsByTagName("td")[19].innerHTML=`&#8364; ${s(z)}`,$.getElementsByTagName("td")[20].innerHTML=`&#8364; ${s(12*z)}`,$.getElementsByTagName("td")[22].innerHTML=`&#8364; ${s(q)}`,$.getElementsByTagName("td")[23].innerHTML=`&#8364; ${s(12*q)}`,$.getElementsByTagName("td")[25].innerHTML=`&#8364; ${s(j)}`,$.getElementsByTagName("td")[26].innerHTML=`&#8364; ${s(12*j)}`,$.getElementsByTagName("td")[28].innerHTML=`&#8364; ${s(D)}`,$.getElementsByTagName("td")[29].innerHTML=`&#8364; ${s(12*D)}`,$.getElementsByTagName("td")[31].innerHTML=`&#8364; ${s(L)}`,$.getElementsByTagName("td")[32].innerHTML=`&#8364; ${s(12*L)}`,$.getElementsByTagName("td")[34].innerHTML=`&#8364; ${s(F)}`,$.getElementsByTagName("td")[35].innerHTML=`&#8364; ${s(12*F)}`;for(let n=2;n<H.length-1;n++){let e=H[n].getElementsByTagName("td")[1],t=H[n].getElementsByTagName("td")[2],a=e.textContent.replace(/[^\d.,-]/g,"").replaceAll(",",""),o=t.textContent.replace(/[^\d.,-]/g,"").replaceAll(",","");O+=parseFloat(a),Y+=parseFloat(o),n<H.length-3&&(U+=parseFloat(o))}$.getElementsByTagName("th")[5].innerHTML=`&#8364;${s(O)}`,$.getElementsByTagName("th")[6].innerHTML=`&#8364;${s(Y)}`,d("operationalChart","Monthly Operational Costs",[{name:"Management Fee",y:N*E/100,color:"#3498db"},{name:"Comunal Fees",y:A/12,color:"#e74c3c"},{name:"Maintenance",y:P/12,color:"#f1c40f"},{name:"Insurance",y:_/12,color:"#2ecc71"},{name:"License Obtaining and Renweal Fees",y:R/12,color:"#f39c12"},{name:"Advertising Costs",y:S/12,color:"#16a085"},{name:"Gas Bills",y:z,color:"#95a5a6"},{name:"Energy Bills",y:q,color:"#e67e22"},{name:"WiFi Costs",y:j,color:"#f68e22"},{name:"Water Bills",y:D,color:"#d36e22"},{name:"AirBnB Fees Total",y:L,color:"#d36c69"},{name:"Booking.com Fees Total",y:F,color:"#3654db"}]);const G=document.getElementById("taxesTable"),V=document.getElementById("propertyTax").value,W=t?a*V*.008:a*V/100,X=document.getElementById("livingTypeCmb").value,J=T-U-.03*a-l*i*12-12*k;let K=0,Q=0,Z=0,nn=0;"1"==X?Q=.19*J:"2"==X?(K=J<=12450?.19:J<=20200?.24:J<=35200?.3:J<=6e4?.37:J<=3e5?.45:.47,Q=J*K):"3"==X&&(Q=.24*T),Z=W/12+Q/12,nn=W+Q,G.getElementsByTagName("td")[1].innerHTML=`&#8364; ${s(W/12)}`,G.getElementsByTagName("td")[2].innerHTML=`&#8364; ${s(W)}`,G.getElementsByTagName("td")[4].innerHTML=`&#8364; ${s(Q/12)}`,G.getElementsByTagName("td")[5].innerHTML=`&#8364; ${s(Q)}`,G.getElementsByTagName("th")[5].innerHTML=`&#8364; ${s(Z)}`,G.getElementsByTagName("th")[6].innerHTML=`&#8364; ${s(nn)}`;const en=document.getElementById("netIncomeTable"),tn=T-12*c-Y-nn,an=c*e*12+b;en.getElementsByTagName("td")[0].innerHTML=`&#8364; ${s(tn/12)}`,en.getElementsByTagName("td")[1].innerHTML=`&#8364; ${s(tn)}`,en.getElementsByTagName("th")[4].innerHTML=`${s(an/tn,1)} Years`,en.getElementsByTagName("th")[5].innerHTML=`${s(tn/an*100,1)}% Annual ROI`,d("netIncomeChart","",[{name:"Net Income",y:tn,color:"#3498db"},{name:"Taxes",y:nn,color:"#e74c3c"},{name:"Operational Costs",y:Y,color:"#f1c40f"},{name:"Mortgage Payment",y:12*c,color:"#2ecc71"}]);const on=document.getElementById("paymentPlanTable").querySelector("tbody");on.innerHTML="";let rn=i,ln=c;if(0!=rn&&0!=ln){let n=rn*r/1200,e=ln-n;for(let t=1;t<361;t++){const a=document.createElement("tr"),o=document.createElement("td");o.textContent=t;const l=document.createElement("td");l.textContent=`€ ${s(rn)}`;const i=document.createElement("td");i.textContent=`€ ${s(ln)}`;const d=document.createElement("td");d.textContent=`€ ${s(n)}`;const c=document.createElement("td");c.textContent=`€ ${s(e)}`,a.appendChild(o),a.appendChild(l),a.appendChild(i),a.appendChild(d),a.appendChild(c),on.appendChild(a),rn-=e,n=rn*r/1200,e=ln-n}}document.getElementById("result-table-container").style.display="block"}));const o=document.querySelectorAll(".info-icon"),r=document.getElementById("tooltip"),l=["Select the mortgage duration (10, 15, 20, 25, or 30 years).","Enter the agreed purchase price of the property.","Input the annual interest rate offered by the lender (Bank).","Enter the initial deposit amount (banks generally require at least 10% of the property’s value).","Select if the property has an Energy Performance Certificate (EPC) rating of A or B, eligible for a 0.1% loan rate reduction and 20% tax reduction.","Choose whether the property is new (subject to 11.5% tax) or resale (subject to 8% tax).","Enter the cost of furnishing the home.","Enter the estimated or actual cost of property renovations.","Enter the nightly rate charged per guest.","Enter the maximum number of guests allowed per booking.","Enter the average percentage of booked nights throughout the year.","Enter the total number of days the property is available for bookings each year.","Enter the percentage charged for property management services, typically between 10% and 30% of rental revenue.","Enter the annual amount of property tax, calculated as a percentage of the value of the property. 1.1% is usually the highest rate in Spain.","Enter the annual fee for shared property services, typically between €50 Euro and €200 in Spain.","Enter the estimated annual cost for property upkeep and repairs.","Enter the annual cost of insurance coverage for the property.","Enter the annual cost for license acquisition and renewal, generally around €500.","Enter the monthly budget for advertising and marketing the property.","Enter the average monthly cost of gas.","Enter the average monthly electricity expense.","Enter the monthly cost for internet services.","Enter the average monthly water bill.","Yes if listing on Airbnb, applying a 3% fee, or No if not.","Yes if listing on Booking.com, applying a 10% fee, or No if not.","Spanish Residents: Subject to progressive tax rates on rental income, eligible expenses recognized by Agencia Tributaria (Spanish Tax Agency):19% for income up to €12,45024% for income from €12,451 to €20,20030% for income from €20,201 to €35,20037% for income from €35,201 to €60,00045% for income from €60,001 to €300,000 47% for income over €300,000  EU citizens are subject to a 19% flat rate with eligible expenses recognized by Agencia Tributaria (Spanish Tax Agency). Non-EU/ES residents pay a 24% flat rate with no expenses recognized."];o.forEach((n=>{n.addEventListener("mouseenter",(function(e){const t=n.getAttribute("data-tooltip");r.textContent=l[t],r.style.display="block",r.style.left=e.pageX+"px",r.style.top=e.pageY+20+"px"})),n.addEventListener("mouseleave",(function(){r.style.display="none"}))})),document.getElementById("pdf-button").addEventListener("click",(function(){!function(){const n=document.getElementById("paymentPlanTable"),e=document.getElementById("result-table-container"),t=document.querySelectorAll(".chart-container");document.querySelector("#result-table-container summary").style.display="none",document.getElementById("loading-indicator").style.display="block",t.forEach(((n,e)=>{n.style.width="800px",n.style.height="auto"})),document.getElementById("pdf-button").style.display="none",n.style.display="revert",setTimeout((()=>{html2pdf().from(e).set({margin:1,filename:"my-document.pdf",html2canvas:{scale:2},jsPDF:{format:"a4",orientation:"portrait"}}).save().then((()=>{t.forEach((n=>{n.style.width="100%",n.style.height="auto"})),document.getElementById("pdf-button").style.display="block",n.style.display="none",document.querySelector("#result-table-container summary").style.display="flex",document.getElementById("loading-indicator").style.display="none"}))}),500)}()}));const i=document.getElementById("embedCode");function d(n,e,t){Highcharts.chart(n,{credits:{enabled:!1},chart:{type:"pie",backgroundColor:"#f3f4f6",options3d:{enabled:!0,alpha:45,beta:0}},title:{text:e,style:{fontSize:"20px"}},legend:{enabled:!0,layout:"vertical",align:"right",verticalAlign:"middle",width:120,itemStyle:{fontSize:"14px"},itemMarginTop:5,itemMarginBottom:5,floating:!1},plotOptions:{pie:{innerSize:0,depth:45,dataLabels:{enabled:!0,format:"{point.name}<br>€{point.y:.2f}",style:{fontSize:"14px"}}}},series:[{name:"Cost",data:t}],tooltip:{pointFormat:"{series.name}: <b>€{point.y:.2f}</b>"}})}function s(n,e){return(null==n||isNaN(n))&&(n=0),(null==e||isNaN(e))&&(e=2),new Intl.NumberFormat("en-US",{minimumFractionDigits:e,maximumFractionDigits:e}).format(n)}document.getElementById("bgColorPicker").addEventListener("input",(function(){document.getElementById("bgColor").value=this.value,document.getElementById("previewContainer").style.backgroundColor=this.value})),document.getElementById("textColorPicker").addEventListener("input",(function(){document.getElementById("textColor").value=this.value,document.querySelector("#previewContainer h4").style.setProperty("color",this.value,"important")})),document.getElementById("buttonColorPicker").addEventListener("input",(function(){document.getElementById("buttonColor").value=this.value,document.querySelector("#previewContainer button").style.setProperty("background-color",this.value,"important")})),document.getElementById("fontFamily").addEventListener("change",(function(){document.getElementById("previewContainer").style.fontFamily=this.value})),document.getElementById("generateButton").addEventListener("click",(function(){const n=`<div id='bnb-calculator'></div><script>const script = document.createElement('script');script.src = 'https://spaincheck.com/bnb-calculator.js';script.onload = function() {initializeBnBCalculator('bnb-calculator', {bgColor: '${document.getElementById("bgColor").value}',textColor: '${document.getElementById("textColor").value}',buttonColor: '${document.getElementById("buttonColor").value}',fontFamily: '${document.getElementById("fontFamily").value}'});};document.head.appendChild(script);<\/script>`.trim();i.value=n,i.style.height=`${i.scrollHeight}px`})),document.getElementById("copyButton").addEventListener("click",(function(){i.select(),i.setSelectionRange(0,99999),document.execCommand("copy"),alert("Embed code copied to clipboard!")})),document.querySelectorAll('input[type="text"]').forEach((n=>{n.addEventListener("input",(n=>{const e=parseFloat(n.target.value)||0,t=new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e);n.target.value=t}))}))}));
>>>>>>> 279e5c97f26660ba5f5d07f7a6c0a9d3e961c8b0
