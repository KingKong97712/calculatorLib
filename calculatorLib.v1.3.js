document.addEventListener("DOMContentLoaded",(function(){var n=document.getElementById("bnb-calculator");const e=document.createElement("style");function t(n){return new Promise(((e,t)=>{const a=document.createElement("script");a.src=n,a.onload=()=>e(),a.onerror=()=>t(new Error(`Failed to load script: ${n}`)),document.head.appendChild(a)}))}e.type="text/css",e.innerText='\n        :root {\n            --primary-color: #00548C;\n            --secondary-color: #1673af;\n            --success-color: #059669;\n            --error-color: #dc2626;\n            --border-radius: 20px;\n            --transition-speed: 0.3s;\n            --box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1);\n            --input-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);\n            --hover-shadow: 0 6px 12px -2px rgba(0, 0, 0, 0.15);\n        }\n        #modal-container {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            position: fixed;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n            background: rgba(0, 0, 0, 0.5);\n            z-index: 100;\n        }\n        #calculator-modal {\n            background: #f3f4f6;\n            width: 80%;\n            height: 85%;\n            max-width: 1000px;\n            border-radius: 8px;\n            padding: 20px;\n            font-family: Arial, sans-serif;\n            box-shadow: 0px 4px 12px rgba(0, 0, 0, 0.2);\n            overflow-y: scroll;\n            scrollbar-width: none;\n        }\n        #calculator-modal h2 {\n            text-align: center;\n            color: #00548C;\n            margin-bottom: 20px;\n            font-size: 35px !important;\n        }\n        .section-title {\n            color: #00548C;\n            font-weight: bold;\n            margin-top: 30px;\n        }\n        .form-group {\n            margin-bottom:15px;\n            gap: 10px;\n            align-items: center;\n            position: relative;\n        }\n        .form-group label {\n            flex: 1;\n            align-content: center;\n            width:100%;\n        }\n        fieldset {\n            margin-top:15px;\n            color: #00548C;\n            font-weight: bold;\n            border: 2px solid #2a3cad;\n            border-radius: 12px;\n            min-width: unset;\n            padding: 0 40px 0 40px;\n        }\n        .form-group input,select {\n            flex: 1;\n            padding: 8px;\n            border: 1px solid #a9d3ef;\n            border-radius: 8px;\n            font-size: 18px;\n            height:35px;\n            width:100%;\n            margin-top:15px;\n        }\n        .form-group input:focus,select:focus {\n            border-color: #1673af;\n            box-shadow: 0 0 5px rgba(22, 115, 175, 0.5);\n            outline: none; \n        }\n        .bnb-button {\n            width: 100%;\n            background-color: #f1bf05;\n            color: white;\n            font-size: 1.2em;\n            border: none;\n            border-radius: 4px;\n            padding: 10px;\n            cursor: pointer;\n            margin-top: 20px;\n        }\n        .bnb-button:hover {\n            background-color: #d3a90b;\n            box-shadow: 0 6px 12px rgba(0, 45, 75, 0.25);\n        }\n\n        .result-table {\n            width: 100%;\n            margin-top: 30px;\n            border-collapse: collapse;\n            background-color: #f0f0f0;\n        }\n        .result-table, .result-table th, .result-table td {\n            border: 1px solid #ccc;\n            padding: 8px;\n            text-align: center;\n        }\n        .result-table th {\n            background-color: #007bff;\n            font-weight: bold;\n            color: white;\n        }\n\n        .pdf-table {\n            width: 100%;\n            margin-top: 30px;\n            border-collapse: collapse;\n            background-color: #f0f0f0;\n        }\n        .pdf-table, .pdf-table th, .pdf-table td {\n            border: none;\n            padding: 8px;\n            text-align: left;\n        }\n        .pdf-table th {\n            background-color: #004a8f;\n            font-weight: bold;\n            color: white;\n        }\n\n        .pdf-table tr:nth-child(even) {\n            background-color: #d9d9d9; \n        }\n        #startupCostTable td {\n            background: #cfe2f3;\n        }\n        #mortgageTable th {\n            background: linear-gradient(135deg, #005203, #71ff76);\n        }\n        #mortgageTable td {\n            background: #d9ead3;\n        }\n        #rentalTable th {\n            background: linear-gradient(135deg, #8a2f2f, #ea9999);\n        }\n        #rentalTable td {\n            background: #f4cccc;\n        }\n        #rentingTable th {\n            background: linear-gradient(135deg, #806000, #ffdc75);\n        }\n        #rentingTable td {\n            background: #fff2cc;\n        }\n        #operationalTable th {\n            background: linear-gradient(135deg, #18828d, #23d8f7);\n        }\n        #operationalTable td {\n            background: #ccfff6;\n        }\n        #taxesTable th {\n            background: linear-gradient(135deg, #6e8122, #c6ed53);\n        }\n        #taxesTable td {\n            background: #afcf7c;\n        }\n        #netIncomeTable th {\n            background: linear-gradient(135deg, #592346, #e570aa);\n        }\n        #netIncomeTable td {\n            background: #e98bc7;\n        }\n        .chart-container {\n            width:100%;\n            height:auto;\n            margin-top: 30px;\n            margin-bottom: 20px;\n        }\n\n        .info-icon {\n            display: inline-flex;\n            align-items: center;\n            justify-content: center;\n            width: 16px;\n            height: 16px;\n            border-radius: 50%;\n            background-color: #1673af;\n            color: white;\n            font-size: 12px;\n            font-style: italic;\n            cursor: help;\n        }    \n\n        .tooltip {\n            position: absolute;\n            background-color: #333;\n            color: #fff;\n            margin-left: 15px;\n            padding: 5px 10px;\n            border-radius: 5px;\n            z-index: 1000;\n            width: 250px;\n            height: auto;\n            transform: translateY(-100%); \n        }\n\n        .detail-div{\n            background: #f3f4f6;\n            border-radius: 10px;\n            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n            padding: 0 25px;\n            overflow: hidden;\n        }\n\n        .sub-detail-div{\n            background: #f3f4f6;\n            margin-top: 25px;\n            padding-top: 8px;\n            border: solid 1px #e5e7eb;\n            border-top-left-radius: 8px;\n            border-top-right-radius: 8px;\n            overflow: hidden;\n        }\n\n        .detail-summary{\n            padding: 0rem 1.5rem;\n            cursor: pointer;\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            border-bottom: 1px solid #e9ecef;\n        }\n\n        .toggle-icon::before {\n            margin-right: 1px;\n        }\n        .toggle-icon::before {\n            content: \'+\';\n            font-weight: bolder;\n            font-size: 1.5rem;\n            color:#003b73;\n        }\n\n        details[open] .toggle-icon::before {\n            content: \'-\';\n        }       \n            \n        .sub-toggle-icon::before {\n            margin-right: 1px;\n            font-size: 1.1rem;\n            color:#003b73;\n        }\n        .sub-toggle-icon::before {\n            content: \'+\';\n            font-weight: bolder;\n            font-size: 1.1rem;\n            color:#003b73;\n        }\n\n        \n\n        .embed-generator {\n            padding: 2rem;\n        }\n\n        .embed-calculator-section * {\n            box-sizing: border-box;\n        }\n\n        .settings-grid {\n            display: grid;\n            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n            gap: 1.5rem;\n            margin-bottom: 2rem;\n        }\n\n        .setting-group {\n            display: flex;\n            gap: 0.5rem;\n        }\n\n        .color-input-group {\n            display: flex;\n            gap: 0.5rem;\n        }\n\n        .color-text, .font-select, .embed-code-display {\n            width: 100%;\n            padding: 0.75rem 1rem;\n            border: 2px solid #e9ecef;\n            border-radius: 0.8rem;\n            font-size: 1rem;\n            margin-top: 0.25rem;\n            background: white;\n            box-shadow: var(--input-shadow);\n            transition: all var(--transition-speed) ease;\n        }\n\n        .color-picker {\n            -webkit-appearance: none;\n            -moz-appearance: none;\n            appearance: none;\n            background: none;\n            border: 0;\n            cursor: pointer;\n            width: 33px;\n            padding: 0;\n            position: relative;\n            outline: 1px solid rgba(0, 0, 0, 0.2);\n            \n            box-shadow: 2px 2px 0px 0px rgba(0, 0, 0, 0.2);\n            margin-left: 5px;\n            align-self: center;\n        }\n\n        .embed-code-calculator-section {\n            margin: 2rem 0;\n            background: #fff;\n            padding: 1rem;\n            border-radius: 8px;\n        }\n\n        .embed-header {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-bottom: 1rem;\n        }\n\n        @media (max-width: 680px) {\n            .embed-header {\n                display: block;\n            }\n            .embed-generator button {\n                font-size: 13px !important;\n            }   \n        }\n\n        .embed-header .button-group {\n            display: flex;\n            gap: 10px;\n        }\n\n        .embed-generator button {\n            font-family: var(--font-heading-family);\n            font-style: var(--font-heading-style);\n            font-weight: var(--font-heading-weight);\n            letter-spacing: calc(var(--font-heading-scale)* .06rem);\n            background-color: var(--secondary-color);\n            color: white;\n            border: none;\n            padding: .6rem 2rem;\n            border-radius: 10rem;\n            font-size: 1.2rem;\n            cursor: pointer;\n            transition: all var(--transition-speed);\n            box-shadow: 0 4px 6px rgba(0, 92, 194, 0.2);\n            position: relative;\n            overflow: hidden;\n        }\n\n        .mini-preview-calculator-section {\n            margin-top: 2rem;\n        }\n\n        .preview-container {\n            border: 1px solid #ddd;\n            border-radius: 8px;\n            padding: 1rem;\n            height: auto;\n            overflow: hidden;\n        }\n\n        @media (max-width: 765px) {\n            .tooltip {\n                width:44% !important;\n            }\n\n            fieldset {\n                padding: 0 15px 0 15px;\n            }\n            \n            .calculator-section {\n                display: block !important;\n            }\n\n            input[type="range"] {\n                margin-top: 5px !important; \n                width:100% !important;\n                position: unset !important;\n            }\n\n            .radio-group {\n                display: block !important;\n            }\n            .radio-option {\n                margin-top: 10px !important;\n                width: 100% !important;\n            }\n        }\n            \n        @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n        }\n\n        .input-container {\n            display: flex;\n            align-items: center;\n            border: 1px solid #a9d3ef;\n            border-radius: 8px;\n            padding: 0px 10px;\n            background-color: #fff;\n            width:calc(100% - 19px);\n            height:35px;\n            margin-top:15px;\n            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n        }\n\n        .input-container span {\n            font-size: 18px;\n            color: #333;\n            margin-right: 5px;\n        }\n\n        .input-container input {\n            border: none;\n            outline: none;\n            font-size: 18px;\n            width: 100%;\n            color: #333;\n            padding: 0;\n            margin-top:0px;\n        }\n\n        .input-container input::placeholder {\n            color: #aaa;\n        }\n\n        .input-container input:focus {\n            border: none; \n            outline: none;\n            box-shadow: none;\n        }\n        .input-container:focus-within {\n            border-color: #1673af;\n            box-shadow: 0 0 5px rgba(22, 115, 175, 0.5);\n        }\n\n        .calculator-section {\n            display: grid;\n            grid-template-columns: repeat(2, 1fr);\n            gap: 15px;\n        }\n\n        input[type="range"] {\n            position: absolute;\n            margin-top: 0px; \n            border: none;\n            box-shadow: none !important;\n            width:100%;\n            z-index: 1000;\n        }\n\n        input[type="range"] {\n            -webkit-appearance: none;\n            -moz-appearance: none;\n            appearance: none;\n            background-color: transparent;\n\n            &:focus {\n            outline-color: #f8b195;\n            }\n        }\n\n    input[type="range"]::-webkit-slider-runnable-track {\n        -webkit-appearance: none;\n        appearance: none;\n        height: 10px;\n        border-radius:5px;\n        background: #5aaf04;\n    }\n\n    input[type="range"].focused::-webkit-slider-runnable-track {\n        background: #df0a09; \n    }\n\n    input[type="range"]::-moz-range-track {\n        -moz-appearance: none;\n        appearance: none;\n        height: 10px;\n        border-radius:5px;\n        background: #5aaf04;\n    }\n  \n    input[type="range"]::-ms-track {\n        -webkit-appearance: none;\n        -moz-appearance: none;\n        appearance: none;\n        height: 10px;\n        border-radius:5px;\n        background: #5aaf04;\n    }\n\n    input[type="range"]::-webkit-slider-thumb {\n        -webkit-appearance: none;\n        appearance: none;\n        border: 2px solid #f8b195;\n        border-radius: 50%;\n        height: 20px;\n        width: 20px;\n        position: relative;\n        bottom: 5px;\n        background: #222\n            url("http://codemenatalie.com/wp-content/uploads/2019/09/slider-thumb.png")\n            center no-repeat;\n        background-size: 50%;\n        box-shadow: 0px 3px 5px 0px rgba(0, 0, 0, 0.4);\n        cursor: grab;\n        \n        &:active {\n        cursor: grabbing;\n        }\n    }\n\n\n    input[type="range"]::-moz-range-thumb {\n        -moz-appearance: none;\n        appearance: none;\n        border: 2px solid #f8b195;\n        border-radius: 50%;\n        height: 20px;\n        width: 20px;\n        position: relative;\n        bottom: 5px;\n        background: #222\n        url("http://codemenatalie.com/wp-content/uploads/2019/09/slider-thumb.png")\n        center no-repeat;\n        background-size: 50%;\n        box-shadow: 0px 3px 5px 0px rgba(0, 0, 0, 0.4);\n        cursor: grab;\n        \n        &:active {\n        cursor: grabbing;\n        }\n    }\n\n    input[type="range"]::-ms-thumb {\n        -webkit-appearance: none;\n        -moz-appearance: none;\n        appearance: none;\n        border: 2px solid #f8b195;\n        border-radius: 50%;\n        height: 20px;\n        width: 20px;\n        position: relative;\n        bottom: 5px;\n        background: #222\n        url("http://codemenatalie.com/wp-content/uploads/2019/09/slider-thumb.png")\n        center no-repeat;\n        background-size: 50%;\n        box-shadow: 0px 3px 5px 0px rgba(0, 0, 0, 0.4);\n        cursor: grab;\n        \n        &:active {\n        cursor: grabbing;\n        }\n    }\n\n    .loading {\n        position: fixed;\n        z-index: 999;\n        height: 2em;\n        width: 2em;\n        overflow: show;\n        margin: auto;\n        top: 0;\n        left: 0;\n        bottom: 0;\n        right: 0;\n    }\n\n    .loading:before {\n        content: \'\';\n        display: block;\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background: radial-gradient(rgba(20, 20, 20,.8), rgba(0, 0, 0, .8));\n        background: -webkit-radial-gradient(rgba(20, 20, 20,.8), rgba(0, 0, 0,.8));\n    }\n\n    .loading:not(:required) {\n        font: 0/0 a;\n        color: transparent;\n        text-shadow: none;\n        background-color: transparent;\n        border: 0;\n    }\n\n    .loading:not(:required):after {\n        content: \'\';\n        display: block;\n        font-size: 10px;\n        width: 1em;\n        height: 1em;\n        margin-top: -0.5em;\n        -webkit-animation: spinner 150ms infinite linear;\n        -moz-animation: spinner 150ms infinite linear;\n        -ms-animation: spinner 150ms infinite linear;\n        -o-animation: spinner 150ms infinite linear;\n        animation: spinner 150ms infinite linear;\n        border-radius: 0.5em;\n        -webkit-box-shadow: rgba(255,255,255, 0.75) 1.5em 0 0 0, rgba(255,255,255, 0.75) 1.1em 1.1em 0 0, rgba(255,255,255, 0.75) 0 1.5em 0 0, rgba(255,255,255, 0.75) -1.1em 1.1em 0 0, rgba(255,255,255, 0.75) -1.5em 0 0 0, rgba(255,255,255, 0.75) -1.1em -1.1em 0 0, rgba(255,255,255, 0.75) 0 -1.5em 0 0, rgba(255,255,255, 0.75) 1.1em -1.1em 0 0;\n        box-shadow: rgba(255,255,255, 0.75) 1.5em 0 0 0, rgba(255,255,255, 0.75) 1.1em 1.1em 0 0, rgba(255,255,255, 0.75) 0 1.5em 0 0, rgba(255,255,255, 0.75) -1.1em 1.1em 0 0, rgba(255,255,255, 0.75) -1.5em 0 0 0, rgba(255,255,255, 0.75) -1.1em -1.1em 0 0, rgba(255,255,255, 0.75) 0 -1.5em 0 0, rgba(255,255,255, 0.75) 1.1em -1.1em 0 0;\n    }\n\n    @-webkit-keyframes spinner {\n        0% {\n            -webkit-transform: rotate(0deg);\n            -moz-transform: rotate(0deg);\n            -ms-transform: rotate(0deg);\n            -o-transform: rotate(0deg);\n            transform: rotate(0deg);\n        }\n        100% {\n            -webkit-transform: rotate(360deg);\n            -moz-transform: rotate(360deg);\n            -ms-transform: rotate(360deg);\n            -o-transform: rotate(360deg);\n            transform: rotate(360deg);\n        }\n        }\n    @-moz-keyframes spinner {\n        0% {\n            -webkit-transform: rotate(0deg);\n            -moz-transform: rotate(0deg);\n            -ms-transform: rotate(0deg);\n            -o-transform: rotate(0deg);\n            transform: rotate(0deg);\n        }\n        100% {\n            -webkit-transform: rotate(360deg);\n            -moz-transform: rotate(360deg);\n            -ms-transform: rotate(360deg);\n            -o-transform: rotate(360deg);\n            transform: rotate(360deg);\n        }\n    }\n    @-o-keyframes spinner {\n        0% {\n            -webkit-transform: rotate(0deg);\n            -moz-transform: rotate(0deg);\n            -ms-transform: rotate(0deg);\n            -o-transform: rotate(0deg);\n            transform: rotate(0deg);\n        }\n        100% {\n            -webkit-transform: rotate(360deg);\n            -moz-transform: rotate(360deg);\n            -ms-transform: rotate(360deg);\n            -o-transform: rotate(360deg);\n            transform: rotate(360deg);\n        }\n        }\n        @keyframes spinner {\n        0% {\n            -webkit-transform: rotate(0deg);\n            -moz-transform: rotate(0deg);\n            -ms-transform: rotate(0deg);\n            -o-transform: rotate(0deg);\n            transform: rotate(0deg);\n        }\n        100% {\n            -webkit-transform: rotate(360deg);\n            -moz-transform: rotate(360deg);\n            -ms-transform: rotate(360deg);\n            -o-transform: rotate(360deg);\n            transform: rotate(360deg);\n        }\n    }\n\n    .radio-group {\n      display: flex;\n      gap: 10px !important;\n      margin-top:15px;\n    }\n\n    .radio-option {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      position: relative;\n      width: 50%;\n      height: 35px;\n      border-radius: 25px;\n      border: 2px solid #1673b0;\n      cursor: pointer;\n      text-align: center;\n      transition: background-color 0.3s ease, color 0.3s ease;\n      color: #1673b0;\n      font-size: 16px;\n    }\n\n    .radio-option input {\n      display: none;\n    }\n\n    .radio-option::before {\n      content: "";\n      position: absolute;\n      left: 8px;\n      top: 50%;\n      transform: translateY(-50%);\n      width: 20px;\n      height: 20px;\n      border-radius: 50%;\n      border: 2px solid #1673b0;\n      background-color: #fff;\n      transition: background-color 0.3s ease, border-color 0.3s ease;\n    }\n\n    .radio-option.active {\n      background-color: #1673b0;\n      color: #fff;\n    }\n\n    .radio-option.active::before {\n      background-color: #fff;\n      border-color: #fff;\n    }\n\n    .radio-option.active::after {\n      content: "";\n      position: absolute;\n      left: 15px;\n      top: 50%;\n      transform: translateY(-50%);\n      width: 10px;\n      height: 10px;\n      background-color: #1673b0;\n      border-radius: 50%;\n    }\n\n    .radio-option input:checked + label {\n      background-color: #1673b0;\n      color: #fff;\n    }\n\n    .radio-option input:checked + label::before {\n      background-color: #fff;\n      border-color: #fff;\n    }\n\n    .radio-option input:checked + label::after {\n      content: "";\n      position: absolute;\n      left: 15px;\n      top: 50%;\n      transform: translateY(-50%);\n      width: 10px;\n      height: 10px;\n      background-color: #1673b0;\n      border-radius: 50%;\n    }\n\n    .checkbox-group {\n        display: flex;\n        gap: 10px;\n        margin-top:15px;\n    }\n      \n    .checkbox-option {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        position: relative;\n        width: 100%;\n        height: 35px;\n        border-radius: 8px;\n        border: 2px solid #1673b0;\n        cursor: pointer;\n        text-align: center;\n        transition: background-color 0.3s ease, color 0.3s ease;\n        color: #1673b0;\n        font-size: 16px;\n    }\n    \n    .checkbox-option input {\n        display: none;\n    }\n    \n    .checkbox-option::before {\n        content: "";\n        position: absolute;\n        left: 15px;\n        width: 20px;\n        height: 20px;\n        border-radius: 4px; /* Square for checkboxes */\n        border: 2px solid #1673b0;\n        background-color: #fff;\n        transition: background-color 0.3s ease, border-color 0.3s ease;\n    }\n    \n    .checkbox-option.active {\n        background-color: #1673b0;\n        color: #fff;\n    }\n    \n    .checkbox-option.active::before {\n        background-color: #fff;\n        border-color: #fff;\n    }\n    \n    .checkbox-option.active::after {\n        content: "✓"; /* Checkmark */\n        position: absolute;\n        left: 20px;\n        top: 7px;\n        font-size: 16px;\n        color: #1673b0;\n    }\n    \n    .checkbox-option input:checked + label {\n        background-color: #1673b0;\n        color: #fff;\n    }\n    \n    .checkbox-option input:checked + label::before {\n        background-color: #fff;\n        border-color: #fff;\n    }\n    \n    .checkbox-option input:checked + label::after {\n        content: "✓";\n        position: absolute;\n        left: 20px;\n        top: 7px;\n        font-size: 16px;\n        color: #1673b0;\n    }\n\n    ',document.head.appendChild(e),async function(){try{await t("https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.2/html2pdf.bundle.min.js"),await t("https://code.highcharts.com/highcharts.js"),await t("https://code.highcharts.com/highcharts-3d.js")}catch(n){console.error(n)}}(),n.innerHTML='\n        <div id="loading-indicator" style="display: none; position: absolute; top: 0; left: 0; z-index: 9999; width:100%; height:100%; background-color: #fff;">\n                    <div class="spinner" style="position: relative; top:50%; left:45%; border: 6px solid #f3f3f3; border-top: 6px solid #3498db; border-radius: 50%; width: 30px; height: 30px; animation: spin 1s linear infinite;"></div>\n        </div>\n        <div class="loading" style = "display:none"></div>\n        <div id="modal-container">\n            \n            <div id="calculator-modal">\n                \n                <div id="tooltip" class="tooltip"  style="display: none;"></div>\n                <h2>BnB Profit Calculator for Spain</h2>\n                <form id="bnb-calculator-form">\n\n                    <fieldset>\n                        <legend>Property Value and Financing:</legend>\n                        <div class="section-title"></div>\n                        <div class="calculator-section">\n                            <div class="form-group">\n                                <label>Mortgage or self-financing <span class="info-icon" data-tooltip="0">i<span></label>\n                                <div class="radio-group">\n                                    <div class="radio-option ">\n                                    <input type="radio" id="radioSelf" name="payment"  />\n                                    <label for="radioSelf">Self Financing</label>\n                                    </div>\n                                    <div class="radio-option active">\n                                    <input type="radio" id="radioMortgage" name="payment" checked/>\n                                    <label for="radioMortgage">Mortgage</label>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class="form-group">\n                                <label>Mortgage Term Years <span class="info-icon" data-tooltip="0">i<span></label>\n                                <select id="termYears"> \n                                    <option>10</option>\n                                    <option>15</option>\n                                    <option>20</option>\n                                    <option>25</option>\n                                    <option>30</option>\n                                </select>\n                            </div>\n                            <div class="form-group">\n                                <div>\n                                    <label id = "priceLabel">Property Purchase Price (&euro;) <span class="info-icon" data-tooltip="1">i<span></label>\n                                    \n                                </div>\n                                <div class="input-container">\n                                    <span>&euro;</span>\n                                    <input type="text" id="purchasePrice" placeholder="0" value="110,000" required>\n                                </div>  \n                                <div>  \n                                    <input type="range" id="priceSlider" min="0" max="1000000" value="110000" />\n                                </div>\n                            </div>\n                            <div class="form-group">\n                                <label>Annual Percentage Rate (%) <span class="info-icon" data-tooltip="2">i<span></label>\n                                <input type="text" id="interestRate" placeholder="0"  value="4.1%" required>\n                            </div>\n                            <div class="form-group">\n                                <div>\n                                    <label id = "propertyLabel">Deposit (&euro;) <span class="info-icon" data-tooltip="3">i<span></label>\n                                </div>    \n                                <div class="input-container" id = "depositContainer">\n                                    <span>&euro;</span>\n                                    <input type="text" id="propertyPrice" placeholder="0" value = "10,000" required>\n                                </div>\n                                <div>\n                                    <input type="range" id="propertySlider" min="0" max="1000000" value="10000" />\n                                </div>\n                            </div>\n                            <div class="form-group">\n                                <label>Energy-Efficient Property? <span class="info-icon" data-tooltip="4">i<span></label>\n                                <div class="radio-group">\n                                    <div class="radio-option active">\n                                    <input type="radio" id="radioA" name="selection" checked />\n                                    <label for="radioA">Yes</label>\n                                    </div>\n                                    <div class="radio-option">\n                                    <input type="radio" id="radioB" name="selection" />\n                                    <label for="radioB">No</label>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class="form-group" style = "margin-bottom:20px;">\n                                <label>Property Type <span class="info-icon" data-tooltip="5">i<span></label>\n                                <div class="radio-group">\n                                    <div class="radio-option">\n                                    <input type="radio" id="radioNew" name="propertyType" />\n                                    <label for="radioNew">New</label>\n                                    </div>\n                                    <div class="radio-option active">\n                                    <input type="radio" id="radioResale" name="propertyType" checked/>\n                                    <label for="radioResale">Resale</label>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </fieldset>\n                    \n                    <fieldset>\n                        <legend>Startup Fees:</legend>\n                        <div class="section-title"></div>\n                        <div class="calculator-section">\n                            <div class="form-group">\n                                <label>Home Furnishing (&euro;) <span class="info-icon" data-tooltip="6">i<span></label>\n                                <div class="input-container">\n                                    <span>&euro;</span>\n                                    <input type="text" id="startupFeeFurnishing" placeholder="0" required value="5,000">\n                                </div>    \n                            </div>\n                            <div class="form-group">\n                                <label>Renovations (&euro;) <span class="info-icon" data-tooltip="7">i<span></label>\n                                <div class="input-container">\n                                    <span>&euro;</span>\n                                    <input type="text" id="startupFeeRenovations" placeholder="0" required value="10,000">\n                                </div>    \n                            </div>\n                        </div>\n                    </fieldset>    \n\n                    <fieldset>\n                        <legend>Rental Income Criteria:</legend>\n                        <div class="section-title"></div>\n                        <div class="calculator-section">\n                            <div class="form-group">\n                                <div>\n                                    <label id = "rentalLabel">Price per night per Guest (&euro;) <span class="info-icon" data-tooltip="8">i<span></label>\n                                </div>    \n                                <div class="input-container">\n                                    <span>&euro;</span>\n                                    <input type="text" id="rentalPrice" placeholder="0" required value="80">\n                                </div>    \n                                <div>\n                                    <input type="range" id="rentalSlider" min="0" max="10000" value="80"  />\n                                </div>\n                            </div>\n                            <div class="form-group">\n                                <label>Nr of Max. Guests <span class="info-icon" data-tooltip="9">i<span></label>\n                                <input type="number" id="rentalMax" placeholder="0" required value="3">\n                            </div>\n                            <div class="form-group">\n                                <label>Occupancy Rate (%) <span class="info-icon" data-tooltip="10">i<span></label>\n                                <input type="text" id="rentalRate" placeholder="0" required value="70%">\n                            </div>\n                            <div class="form-group">\n                                <label>Operating Days Annually <span class="info-icon" data-tooltip="11">i<span></label>\n                                <input type="number" id="rentalAnnual" placeholder="0" required value="365" min="1" max="365" step="1">\n                            </div>\n                        </div>    \n                    </fieldset>\n\n                    <fieldset>\n                        <legend>Operating Expenses:</legend>\n                        <div class="section-title"></div>\n                        <div class="calculator-section">\n                            <div class="form-group">\n                                <label>Management Fee (%) <span class="info-icon" data-tooltip="12">i<span></label>\n                                <input type="text" id="managementFee" placeholder="0" required value="20%">\n                            </div>\n                            <div class="form-group">\n                                <label>Property Tax (%) <span class="info-icon" data-tooltip="13">i<span></label>\n                                <input type="text" id="propertyTax" placeholder="0" required value="1.1%">\n                            </div>\n                            <div class="form-group">\n                                <label>Community Fees (&euro;) <span class="info-icon" data-tooltip="14">i<span></label>\n                                <div class="input-container">\n                                    <span>&euro;</span>\n                                    <input type="text" id="communityFee" placeholder="0" required value="1,300">\n                                </div>    \n                            </div>\n                            <div class="form-group">\n                                <label>Maintenance and repairs (&euro;) <span class="info-icon" data-tooltip="15">i<span></label>\n                                <div class="input-container">\n                                    <span>&euro;</span>\n                                    <input type="text" id="maintenanceFee" placeholder="0" required value="2,000">\n                                </div>    \n                            </div>\n                            <div class="form-group">\n                                <label>Insurance (&euro;) <span class="info-icon" data-tooltip="16">i<span></label>\n                                <div class="input-container">\n                                    <span>&euro;</span>\n                                    <input type="text" id="insuranceFee" placeholder="0" required value="400">\n                                </div>    \n                            </div>\n                            <div class="form-group">\n                                <label>License Obtaining and Renweal Fees (&euro;) <span class="info-icon" data-tooltip="17">i<span></label>\n                                <div class="input-container">\n                                    <span>&euro;</span>\n                                    <input type="text" id="licenseFee" placeholder="0" required value="500">\n                                </div>    \n                            </div>\n                            <div class="form-group">\n                                <label>Advertising Costs per Month (&euro;) <span class="info-icon" data-tooltip="18">i<span></label>\n                                <div class="input-container">\n                                    <span>&euro;</span>\n                                    <input type="text" id="advertisingFee" placeholder="0" required value="100">\n                                </div>    \n                            </div>\n                            <div class="form-group">\n                                <label>Gas Bill Monthy (&euro;) <span class="info-icon" data-tooltip="19">i<span></label>\n                                <div class="input-container">\n                                    <span>&euro;</span>\n                                    <input type="text" id="gasFee" placeholder="0" required value="30">\n                                </div>    \n                            </div>\n                            <div class="form-group">\n                                <label>Energy Bill Monthly (&euro;) <span class="info-icon" data-tooltip="20">i<span></label>\n                                <div class="input-container">\n                                    <span>&euro;</span>\n                                    <input type="text" id="energyFee" placeholder="0" required value="100">\n                                </div>    \n                            </div>\n                            <div class="form-group">\n                                <label>WiFi Monthly (&euro;) <span class="info-icon" data-tooltip="21">i<span></label>\n                                <div class="input-container">\n                                    <span>&euro;</span>\n                                    <input type="text" id="wifiFee" placeholder="0" required value="40">\n                                </div>    \n                            </div>\n                            <div class="form-group">\n                                <label>Water Bill Monthly (&euro;) <span class="info-icon" data-tooltip="22">i<span></label>\n                                <div class="input-container">\n                                    <span>&euro;</span>\n                                    <input type="text" id="waterFee" placeholder="0" required value="10">\n                                </div>    \n                            </div>\n                        </div>    \n                    </fieldset>    \n\n                    <fieldset>\n                        <legend>BnB Renting Platforms:</legend>\n                        <div class="section-title"></div>\n                        <div class="calculator-section">\n                            <div class="form-group">\n                                <label>AirBnB (%) <span class="info-icon" data-tooltip="23">i<span></label>\n                                <div class="checkbox-group">\n                                    <div class="checkbox-option active">\n                                    <input type="checkbox" id="isAirBnB" name="isAirBnB" checked />\n                                    <label for="isAirBnB">AirBnB</label>\n                                    </div>\n                                </div>\n                                <input type="text" id="rentingAirBnB" placeholder="0" required value="3%">\n                            </div>\n                            <div class="form-group">\n                                <label>Booking.com (%) <span class="info-icon" data-tooltip="24">i<span></label>\n                                <div class="checkbox-group">\n                                    <div class="checkbox-option active">\n                                    <input type="checkbox" id="isBooking" name="isBooking" checked />\n                                    <label for="isBooking">Booking</label>\n                                    </div>\n                                </div>\n                                <input type="text" id="rentingBooking" placeholder="0" required value="10%">\n                            </div>\n                        </div>    \n                    </fieldset>  \n\n                     <fieldset>\n                        <legend>Living Situation:</legend>\n                        <div class="form-group" style="margin-top:10px;">\n                            <label>Living Situation Select <span class="info-icon" data-tooltip="25">i<span></label>\n                          \n                            <div class="radio-group" id = "multiRadio">\n                                <div class="radio-option active">\n                                <input type="radio" id="radioOne" name="livingTypeCmb" value = "1" checked />\n                                <label for="radioOne">EU Resident</label>\n                                </div>\n                                <div class="radio-option">\n                                <input type="radio" id="radioTwo" name="livingTypeCmb" value = "2" />\n                                <label for="radioTwo">Spanish Resident</label>\n                                </div>\n                                <div class="radio-option">\n                                <input type="radio" id="radioThree" name="livingTypeCmb" value = "3"/>\n                                <label for="radioThree">Non-resident ES or EU</label>\n                                </div>\n                            </div>\n                        </div>\n                    </fieldset>  \n                    <button type="submit" class="bnb-button" id="calculate-button">Calculate Break Even</button>\n                </form>\n                \n                <div id="result-table-container" style="display: none; background-color: #f3f4f6;">\n                    <details class="detail-div">\n                    <summary class="detail-summary"><h2 style="font-size:1.5em !important;">Details</h2> <span class="toggle-icon"></span></summary>\n                    <table class="result-table" style = "display:none">\n                        <thead>\n                            <tr>\n                                <th >Interest Rate for Energy Certificate A and B</th>\n                                <th colspan="5">Mortgage Calculations</th>\n                            </tr>\n                            <tr>\n                                <td rowspan = "4" id = \'t_interestRate\'></td>\n                                <td>Total Monthly Payments</td>\n                                <td>Mortgage Amount</td>\n                                <td>Monthly Payment</td>\n                                <td>Total To Repay</td>\n                                <td>Interests</td>\n                            </tr>\n                            <tr>\n                                <td id = \'t_termYears\'></td>\n                                <td id = \'t_mortgageAmount\'></td>\n                                <td rowspan = "3" id = \'t_pmt\'></td>\n                                <td rowspan = "3" id = \'t_repay\'></td>\n                                <td rowspan = "3" id = \'t_interest\'></td>\n                            </tr>\n                            <tr>\n                                <td>Monthly Interest</td>\n                                <td>Monthly Principal</td>\n                            </tr>\n                            <tr>\n                                <td id = \'t_mInterest\'></td>\n                                <td id = \'t_mPrincipal\'></td>\n                            </tr>\n                        </thead>\n                    </table>\n\n                    <details class="sub-detail-div">\n                    <summary class="detail-summary"><h2 style="font-size:1em !important;">Additional Closing Costs</h2> <span style="margin-right:1px"><h2 style="font-size:1em !important;">Details</h2></span></summary>\n                    <div id="pdfTitle" style = "display:none">\n                        <h2 style="font-size:1.5em !important; color: #00548C;text-align: center;" >BnB Investment Plan</h2>\n                        <div style="position:relative">\n                            <div style ="position: absolute; right:25px; top:-35px; display:flex; flex-direction:column; align-items: center; gap:5px;"><img style="width:27px" src="https://spaincheck.com/cdn/shop/files/Spaincheck.com_Favicon.png?crop=center&height=32&v=1702748373&width=32" alt="Spaincheck.com" /><spna style="font-size:12px">By Spaincheck.com</span>\n                            </div>\n                        </div>\n                    </div>    \n                    <table class="result-table" id = "startupCostTable">\n                        <thead>\n                            <tr>\n                                <th colspan="2" style = "font-size:25px; background: linear-gradient(135deg, #004a8f, #9FC5E8);">Star-Up Costs</th>\n                            </tr>\n                        </thead>\n                        <tbody >\n                            <tr>\n                                <td>Notary Costs</td>\n                                <td></td>\n                            </tr>\n                            <tr>\n                                <td>Tax Consultancy Costs</td>\n                                <td></td>\n                            </tr>\n                            <tr>\n                                <td>Registry Costs</td>\n                                <td></td>\n                            </tr>\n                            <tr>\n                                <td>Purchase Taxes</td>\n                                <td></td>\n                            </tr>\n                            <tr>\n                                <td>Registry Verification Costs</td>\n                                <td></td>\n                            </tr>\n                            <tr>\n                                <td>Valuation Costs</td>\n                                <td></td>\n                            </tr>\n                            <tr>\n                                <td>Deposit</td>\n                                <td></td>\n                            </tr>\n                            <tr>\n                                <td>Renovation & Furniture</td>\n                                <td></td>\n                            </tr>\n                            <tr class="total">\n                                <td><b>Total Star-Up Costs</b></td>\n                                <td></td>\n                            </tr>\n                        </tbody>\n                    </table>    \n                    \n                    <div id="startupCostChart" class="chart-container"></div>\n                    </details>\n                    <table class="result-table" style="margin-top:0px !important;">\n                    <thead>\n                        <tr>\n                            <th style = "font-size: 17px; padding:11px; background: linear-gradient(135deg, #004a8f, #9FC5E8); width:50%">Total Closing Costs without deposit</th>\n                            <th style = "font-size: 17px; padding:11px; background: linear-gradient(135deg, #004a8f, #9FC5E8); width:50%" id = "subStartupCost"></th>\n                        </tr>\n                    </thead>\n                    </table>\n\n                    <details class="sub-detail-div">\n                    <summary class="detail-summary"><h2 style="font-size:1em !important;">Mortgage</h2> <span style="margin-right:1px"><h2 style="font-size:1em !important;">Details</h2></span></summary>\n                    <table class="result-table" id = "mortgageTable">\n                        <thead>\n                            <tr>\n                                <th colspan="2" style = "font-size:25px">Mortgage Details</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            <tr>\n                                <th colspan="2">Mortgage Interest</th>\n                            </tr>\n                            <tr>\n                                <th>Monthly</th>\n                                <th>Annual</th>\n                            </tr>\n                            <tr>\n                                <td id="t_mIMonthly"></td>\n                                <td id="t_mIAnnual"></td>\n                            </tr>\n                            <tr>\n                                <th colspan="2">Mortgage Principal</th>\n                            </tr>\n                            <tr>\n                                <th>Monthly</th>\n                                <th>Annual</th>\n                            </tr>\n                            <tr>\n                                <td id="t_mPMonthly"></td>\n                                <td id="t_mPAnnual"></td>\n                            </tr>\n                            <tr>\n                                <th colspan="2">Total Mortgage Payment</th>\n                            </tr>\n                            <tr>\n                                <th>Monthly</th>\n                                <th>Annual</th>\n                            </tr> \n                            <tr>\n                                <td id="t_mTMonthly"></td>\n                                <td id="t_mTAnnual"></td>\n                            </tr>\n                            <tr>\n                                <th>Total Mortgage</th>\n                                <th id="t_mTotal"></th>\n                            </tr> \n                        </tbody>\n                    </table>\n                    </details>\n                    <table class="result-table" style="margin-top:0px !important;">\n                    <thead>\n                        <tr>\n                            <th style = "font-size: 17px; padding:11px; background: linear-gradient(135deg, #005203, #71ff76); width:50%">Total Mortgage Monthly</th>\n                            <th style = "font-size: 17px; padding:11px; background: linear-gradient(135deg, #005203, #71ff76); width:50%" id = "mortgageMonthly"></th>\n                        </tr>\n                        <tr>\n                            <th style = "font-size: 17px; padding:11px; background: linear-gradient(135deg, #005203, #71ff76); width:50%">Total Mortgage Annualy</th>\n                            <th style = "font-size: 17px; padding:11px; background: linear-gradient(135deg, #005203, #71ff76); width:50%" id = "mortgageAnnualy"></th>\n                        </tr>\n                    </thead>\n                    </table>\n\n                    <details class="sub-detail-div">\n                    <summary class="detail-summary"><h2 style="font-size:1em !important;">Rental Brut Income</h2> <span style="margin-right:1px"><h2 style="font-size:1em !important;">Details</h2></span></summary>\n                    <table class="result-table" id = "rentalTable">\n                        <thead>\n                            <tr>\n                                <th colspan="2" style = "font-size:25px">Rental Brut Income</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            <tr>\n                                <th>Monthly</th>\n                                <th>Annual</th>\n                            </tr>\n                            <tr>\n                                <td id="t_rentalMonthly"></td>\n                                <td id="t_rentalAnnual"></td>\n                            </tr>\n                        </tbody>\n                    </table>\n                    </details>\n\n                    <details class="sub-detail-div">\n                    <summary class="detail-summary"><h2 style="font-size:1em !important;">Renting Platforms Fees</h2> <span style="margin-right:1px"><h2 style="font-size:1em !important;">Details</h2></span></summary>\n                    <table class="result-table" id = "rentingTable">\n                        <thead>\n                            <tr>\n                                <th colspan="2" style = "font-size:25px">Renting Platforms Fees</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            <tr>\n                                <th colspan="2">AirBnB Fees Total</th>\n                            </tr>\n                            <tr>\n                                <th>Monthly</th>\n                                <th>Annual</th>\n                            </tr>\n                            <tr>\n                                <td id="t_airBnBMonthly"></td>\n                                <td id="t_airBnBAnnual"></td>\n                            </tr>\n                            <tr>\n                                <th colspan="2">Booking.com Fees Total</th>\n                            </tr>\n                            <tr>\n                                <th>Monthly</th>\n                                <th>Annual</th>\n                            </tr>\n                            <tr>\n                                <td id="t_bookingMonthly"></td>\n                                <td id="t_bookingAnnual"></td>\n                            </tr>\n                            <tr>\n                                <th colspan="2">Total Renting Platform(s) Fees</th>\n                            </tr>\n                            <tr>\n                                <th id="t_rentingMonthly"></th>\n                                <th id="t_rentingAnnual"></th>\n                            </tr>\n                        </tbody>\n                    </table>\n\n                    <div id="rentingChart" class="chart-container"></div>\n                    </details>\n                    <table class="result-table" style="margin-top:0px !important;">\n                    <thead>\n                        <tr>\n                            <th style = "font-size: 17px; padding:11px; background: linear-gradient(135deg, #806000, #ffdc75); width:50%">Total Renting Platform Monthly</th>\n                            <th style = "font-size: 17px; padding:11px; background: linear-gradient(135deg, #806000, #ffdc75); width:50%" id="subRentingMonthly"></th>\n                        </tr>\n                        <tr>\n                            <th style = "font-size: 17px; padding:11px; background: linear-gradient(135deg, #806000, #ffdc75); width:50%">Total Renting Platform Annualy</th>\n                            <th style = "font-size: 17px; padding:11px; background: linear-gradient(135deg, #806000, #ffdc75); width:50%" id="subRentingAnnualy"></th>\n                        </tr>\n                    </thead>\n                    </table>\n\n\n                    <details class="sub-detail-div">\n                    <summary class="detail-summary"><h2 style="font-size:1em !important;">Operational Costs</h2> <span style="margin-right:1px"><h2 style="font-size:1em !important;">Details</h2></span></summary>\n                    <table class="result-table" id = "operationalTable">\n                        <thead>\n                            <tr>\n                                <th colspan="3" style = "font-size:25px">Operational Costs</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            <tr>\n                                <th></th>\n                                <th>Monthly</th>\n                                <th>Annual</th>\n                            </tr>\n                            <tr>\n                                <td>Management Fee</td>\n                                <td></td>\n                                <td></td>\n                            </tr>\n                            <tr>\n                                <td>Comunal Fees</td>\n                                <td></td>\n                                <td></td>\n                            </tr>\n                            <tr>\n                                <td>Maintenance</td>\n                                <td></td>\n                                <td></td>\n                            </tr>\n                            <tr>\n                                <td>Insurance</td>\n                                <td></td>\n                                <td></td>\n                            </tr>\n                            <tr>\n                                <td>License Obtaining and Renweal Fees</td>\n                                <td></td>\n                                <td></td>\n                            </tr>\n                            <tr>\n                                <td>Advertising Costs</td>\n                                <td></td>\n                                <td></td>\n                            </tr>\n                            <tr>\n                                <td>Gas Bills</td>\n                                <td></td>\n                                <td></td>\n                            </tr>\n                            <tr>\n                                <td>Energy Bills</td>\n                                <td></td>\n                                <td></td>\n                            </tr>\n                            <tr>\n                                <td>WiFi Costs</td>\n                                <td></td>\n                                <td></td>\n                            </tr>\n                            <tr>\n                                <td>Water Bills</td>\n                                <td></td>\n                                <td></td>\n                            </tr>\n                            <tr>\n                                <td>AirBnB Fees Total</td>\n                                <td></td>\n                                <td></td>\n                            </tr>\n                            <tr>\n                                <td>Booking.com Fees Total</td>\n                                <td></td>\n                                <td></td>\n                            </tr>\n                            <tr>\n                                <th>Total</th>\n                                <th></th>\n                                <th></th>\n                            </tr>\n                        </tbody>\n                    </table>\n\n                    <div id="operationalChart" class="chart-container"></div>\n                    </details>\n                    <table class="result-table" style="margin-top:0px !important;">\n                    <thead>\n                        <tr>\n                            <th style = "font-size: 17px; padding:11px; background: linear-gradient(135deg, #18828d, #23d8f7); width:50%">Operational Costs Monthly</th>\n                            <th style = "font-size: 17px; padding:11px; background: linear-gradient(135deg, #18828d, #23d8f7); width:50%" id="operationalMonthly"></th>\n                        </tr>\n                        <tr>\n                            <th style = "font-size: 17px; padding:11px; background: linear-gradient(135deg, #18828d, #23d8f7); width:50%">Operational Costs Annualy</th>\n                            <th style = "font-size: 17px; padding:11px; background: linear-gradient(135deg, #18828d, #23d8f7); width:50%" id="operationalAnnualy"></th>\n                        </tr>\n                    </thead>\n                    </table>\n\n                    <details class="sub-detail-div">\n                    <summary class="detail-summary"><h2 style="font-size:1em !important;">Taxes</h2> <span style="margin-right:1px"><h2 style="font-size:1em !important;">Details</h2></span></summary>\n                    <table class="result-table" id = "taxesTable">\n                        <thead>\n                            <tr>\n                                <th colspan="3" style = "font-size:25px">Taxes</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            <tr>\n                                <th></th>\n                                <th>Monthly</th>\n                                <th>Annual</th>\n                            </tr>\n                            <tr>\n                                <td>Property Tax Fee</td>\n                                <td></td>\n                                <td></td>\n                            </tr>\n                            <tr>\n                                <td>Rental Income Tax</td>\n                                <td></td>\n                                <td></td>\n                            </tr>\n                            <tr>\n                                <th>Total Taxes</th>\n                                <th></th>\n                                <th></th>\n                            </tr>\n                        </tbody>\n                    </table>\n                    </details>\n                    <table class="result-table" style="margin-top:0px !important;">\n                    <thead>\n                        <tr>\n                            <th style = "font-size: 17px; padding:11px; background: linear-gradient(135deg, #6e8122, #c6ed53); width:50%">Total Taxes Monthly</th>\n                            <th style = "font-size: 17px; padding:11px; background: linear-gradient(135deg, #6e8122, #c6ed53); width:50%" id="taxesMonthly"></th>\n                        </tr>\n                        <tr>\n                            <th style = "font-size: 17px; padding:11px; background: linear-gradient(135deg, #6e8122, #c6ed53); width:50%">Total Taxes Annualy</th>\n                            <th style = "font-size: 17px; padding:11px; background: linear-gradient(135deg, #6e8122, #c6ed53); width:50%" id="taxesAnnualy"></th>\n                        </tr>\n                    </thead>\n                    </table>\n\n                    <details class="sub-detail-div" id = "neIcomeView">\n                    <summary class="detail-summary"><h2 style="font-size:1em !important;">Net Income</h2> <span style="margin-right:1px"><h2 style="font-size:1em !important;">Details</h2></span></summary>\n                    <table class="result-table" id = "netIncomeTable">\n                        <thead>\n                            <tr>\n                                <th colspan="2" style = "font-size:25px">Net Income</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            <tr>\n                                <th>Monthly</th>\n                                <th>Annual</th>\n                            </tr>\n                            <tr>\n                                <td></td>\n                                <td></td>\n                            </tr>\n                            <tr>\n                                <th colspan="2">Break-even ROI in Years</th>\n                            </tr>\n                            <tr>\n                                <th colspan="2">7.6 Years</th>\n                            </tr>\n                            <tr>\n                                <th colspan="2">13.1% Annual ROI</th>\n                            </tr>\n                        </tbody>\n                    </table>\n\n                    <div id="netIncomeChart" class="chart-container"></div>\n                    </details>\n                    \n                    <form>\n                        <button type="button" class="bnb-button" id="pdf-button">PDF Download</button>\n                    </form>\n                    <div id = "paymentPlanDiv" style="display:none; margin-top:370px;">\n                        \n                    </div>    \n                    </details>\n                </div>\n                \n                <details class="detail-div" style="margin-top:20px;">\n                    <summary class="detail-summary"><h2 style="font-size:1.3em !important;">Embed Code Generate</h2> <span class="toggle-icon"></span></summary>\n                        <div class="embed-generator">\n                                <div class="customization-panel">\n                                <div class="settings-grid">\n                                    <div class="setting-group">\n                                    <label for="bgColor">Background Color</label>\n                                    <div class="color-input-group">\n                                        <input type="text" id="bgColor" value="#f3f4f6" class="color-text">\n                                        <input type="color" id="bgColorPicker" value="#f3f4f6" class="color-picker">\n                                    </div>\n                                    </div>\n                        \n                                    <div class="setting-group">\n                                    <label for="textColor">Text Color</label>\n                                    <div class="color-input-group">\n                                        <input type="text" id="textColor" value="#00548C" class="color-text">\n                                        <input type="color" id="textColorPicker" value="#00548C" class="color-picker">\n                                    </div>\n                                    </div>\n                        \n                                    <div class="setting-group">\n                                    <label for="buttonColor">Button Color</label>\n                                    <div class="color-input-group">\n                                        <input type="text" id="buttonColor" value="#1673af" class="color-text">\n                                        <input type="color" id="buttonColorPicker" value="#1673af" class="color-picker">\n                                    </div>\n                                    </div>\n                        \n                                    <div class="setting-group">\n                                    <label for="fontFamily">Font Family</label>\n                                    <select id="fontFamily" class="font-select">\n                                        <option value="Arial, sans-serif">Arial</option>\n                                        <option value="\'Times New Roman\', serif">Times New Roman</option>\n                                        <option value="\'Helvetica Neue\', sans-serif">Helvetica Neue</option>\n                                        <option value="\'Roboto\', sans-serif">Roboto</option>\n                                    </select>\n                                    </div>\n                                </div>\n                        \n                                <div class="embed-code-calculator-section">\n                                    <div class="embed-header">\n                                    <h3>Calculator Code</h3>\n                                    <div class="button-group">\n                                        <button id="generateButton" class="copy-button">Generate Code</button>\n                                        <button id="copyButton" class="copy-button" style="display: inline-block;" data-clipboard-target="#embedCode">Copy Code</button>\n                                    </div>\n                                    </div>\n                                    <textarea id="embedCode" class="embed-code-display" style="resize: none; width: 100%; overflow:hidden" readonly=""></textarea>\n                                </div>\n                        \n                                <div class="mini-preview-calculator-section">\n                                    <h3>Preview</h3>\n                                    <div id="previewContainer" class="preview-container" style="background-color: rgb(243, 244, 246); font-family: Arial, sans-serif;">\n                                <div style="text-align: center; padding: 10px;">\n                                    <h4 style="color: #00548C !important; margin: 0 0 10px 0;">Spain Tax Calculator</h4>\n                                    <input type="text" placeholder="Sample Input" style="width: 80%; \n                                                    padding: 5px; \n                                                    margin: 5px; \n                                                    border: 1px solid #ddd; \n                                                    border-radius: 0.8rem;">\n                                    <button style="background-color: #1673af; \n                                                color: white; \n                                                border: none; \n                                                padding: 5px 10px; \n                                                border-radius: 10rem; \n                                                margin: 5px;\n                                                cursor: pointer;">\n                                        Calculate\n                                    </button>\n                                </div>\n                            </div>\n                            </div>\n                        </div>\n                        </div>                    \n                </details>    \n            </div>\n        </div>\n    ';const a=document.getElementById("priceSlider");document.getElementById("priceLabel");let o=!1;document.getElementById("purchasePrice").addEventListener("focus",(()=>{a.classList.add("focused")})),a.addEventListener("blur",(()=>{o=!1,a.classList.remove("focused")})),document.getElementById("purchasePrice").addEventListener("blur",(()=>{o||a.classList.remove("focused")})),a.addEventListener("click",(()=>{o=!0,a.classList.add("focused")})),a.addEventListener("input",(()=>{o=!0,a.classList.add("focused"),document.getElementById("purchasePrice").value=T(a.value,0)}));const r=document.getElementById("propertySlider"),i=(document.getElementById("propertyLabel"),document.getElementById("propertyPrice")),l=document.getElementById("purchasePrice");function d(){(parseFloat(i.value.trim().replace(/[^0-9.]/g,""))||0)>(parseFloat(l.value.trim().replace(/[^0-9.]/g,""))||0)&&(alert("Deposit cannot be higher than the Property Purchase Price"),i.value=T("10000",0),r.value="10000")}document.getElementById("propertyPrice").addEventListener("focus",(()=>{r.classList.add("focused")})),r.addEventListener("blur",(()=>{o=!1,r.classList.remove("focused"),d()})),i.addEventListener("blur",(()=>{d(),o||r.classList.remove("focused")})),r.addEventListener("click",(()=>{o=!0,r.classList.add("focused")})),r.addEventListener("input",(()=>{o=!0,r.classList.add("focused"),document.getElementById("propertyPrice").value=T(r.value,0)}));const s=document.getElementById("rentalSlider");document.getElementById("rentalLabel"),document.getElementById("rentalPrice").addEventListener("focus",(()=>{s.classList.add("focused")})),s.addEventListener("blur",(()=>{o=!1,s.classList.remove("focused")})),document.getElementById("rentalPrice").addEventListener("blur",(()=>{o||s.classList.remove("focused")})),s.addEventListener("click",(()=>{o=!0,s.classList.add("focused")})),s.addEventListener("input",(()=>{o=!0,s.classList.add("focused"),document.getElementById("rentalPrice").value=T(s.value,0)})),document.getElementById("calculate-button").addEventListener("click",(function(n){if(!document.getElementById("bnb-calculator-form").checkValidity())return;n.preventDefault(),document.querySelector(".loading").style.display="block",setTimeout((()=>{document.querySelector(".loading").style.display="none",document.getElementById("result-table-container").style.display="block",document.querySelector(".detail-div").open=!0;const n=document.getElementById("neIcomeView");n.open=!0,setTimeout((()=>{n.scrollIntoView({behavior:"smooth",block:"start"})}),200)}),2e3);const e=document.getElementById("termYears").value,t=document.getElementById("radioA").checked,a=document.getElementById("purchasePrice").value.trim().replace(/[^0-9]/g,""),o=document.getElementById("propertyPrice").value.trim().replace(/[^0-9]/g,"");let r=document.getElementById("interestRate").value.replace(/[^0-9.]/g,"");r=t?r-.1:r;const i=r/12/100,l=a-o,d=i*l/(1-Math.pow(1+i,12*-e)),s=d-i*l;document.getElementById("t_interestRate").innerHTML=T(r)+"%",document.getElementById("t_termYears").innerHTML=T(12*e),document.getElementById("t_mortgageAmount").innerHTML=`&#8364; ${T(l)}`,document.getElementById("t_mInterest").innerHTML=`&#8364; ${T(i*l)}`,document.getElementById("t_mPrincipal").innerHTML=`&#8364; ${T(s)}`,document.getElementById("t_pmt").innerHTML=`&#8364; ${T(d)}`,document.getElementById("t_repay").innerHTML=`&#8364; ${T(d*e*12)}`,document.getElementById("t_interest").innerHTML=`&#8364; ${T(d*e*12-l)}`;const c=document.getElementById("startupCostTable"),p=c.getElementsByTagName("tr"),m=document.getElementById("radioNew").checked?11.5:8,g=parseFloat(document.getElementById("startupFeeFurnishing").value.trim().replace(/[^0-9]/g,"")),u=parseFloat(document.getElementById("startupFeeRenovations").value.trim().replace(/[^0-9]/g,""));let y=0;c.getElementsByTagName("td")[1].innerHTML=`&#8364; ${T(.005*a)}`,c.getElementsByTagName("td")[3].innerHTML=`&#8364; ${T(.003*a)}`,c.getElementsByTagName("td")[5].innerHTML=`&#8364; ${T(.002*a)}`,c.getElementsByTagName("td")[7].innerHTML=`&#8364; ${T(a*m/100)}`,c.getElementsByTagName("td")[9].innerHTML=`&#8364; ${T(50)}`,c.getElementsByTagName("td")[11].innerHTML=`&#8364; ${T(.002*a)}`,c.getElementsByTagName("td")[13].innerHTML=`&#8364; ${T(o)}`,c.getElementsByTagName("td")[15].innerHTML=`&#8364; ${T(g+u)}`;for(let n=1;n<p.length-1;n++){let e=p[n].getElementsByTagName("td")[1].textContent.replace(/[^\d.,-]/g,"").replaceAll(",","");y+=parseFloat(e)}c.getElementsByTagName("td")[17].innerHTML=`<b>&#8364; ${T(y)}</b>`,document.getElementById("subStartupCost").innerHTML=`&#8364; ${T(y)}`,k("startupCostChart","Breakdown of start-up costs",[{name:"Notary Costs",y:.005*a,color:"#3498db"},{name:"Tax Consultancy Costs",y:.003*a,color:"#e74c3c"},{name:"Registry Costs",y:.002*a,color:"#f1c40f"},{name:"Purchase Taxes",y:a*m/100,color:"#2ecc71"},{name:"Registry Verification Costs",y:50,color:"#f39c12"},{name:"Valuation Costs",y:.002*a,color:"#16a085"},{name:"Deposit",y:1*o,color:"#95a5a6"},{name:"Renovation & Furniture",y:g+u,color:"#e67e22"}]),document.getElementById("t_mIMonthly").innerHTML=`&#8364; ${T(i*l)}`,document.getElementById("t_mIAnnual").innerHTML=`&#8364; ${T(i*l*12)}`,document.getElementById("t_mPMonthly").innerHTML=`&#8364; ${T(s)}`,document.getElementById("t_mPAnnual").innerHTML=`&#8364; ${T(12*s)}`,document.getElementById("t_mTMonthly").innerHTML=`&#8364; ${T(d)}`,document.getElementById("t_mTAnnual").innerHTML=`&#8364; ${T(12*d)}`,document.getElementById("t_mTotal").innerHTML=`&#8364; ${T(d*e*12)}`,document.getElementById("mortgageMonthly").innerHTML=`&#8364; ${T(d)}`,document.getElementById("mortgageAnnualy").innerHTML=`&#8364; ${T(12*d)}`;const b=document.getElementById("rentalPrice").value.trim().replace(/[^0-9]/g,""),f=document.getElementById("rentalMax").value.trim().replace(/[^0-9]/g,""),v=document.getElementById("rentalRate").value.trim().replace(/[^0-9.]/g,""),x=document.getElementById("rentalAnnual").value.trim().replace(/[^0-9]/g,""),E=b*f*v*x/1200,B=b*f*v*x/100;document.getElementById("t_rentalMonthly").innerHTML=`&#8364; ${T(E)}`,document.getElementById("t_rentalAnnual").innerHTML=`&#8364; ${T(B)}`;const w=document.getElementById("isAirBnB").checked,I=document.getElementById("isBooking").checked,M=document.getElementById("rentingAirBnB").value.trim().replace(/[^0-9.]/g,""),C=document.getElementById("rentingBooking").value.trim().replace(/[^0-9.]/g,"");let L=0,P=0,z=0;w&&!I?(L=M*E/100,P=0,z=L):!w&&I?(L=0,P=C*E/100,z=P):w&&I&&(L=M*E/200,P=C*E/200,z=L+P),document.getElementById("t_airBnBMonthly").innerHTML=`&#8364; ${T(L)}`,document.getElementById("t_airBnBAnnual").innerHTML=`&#8364; ${T(12*L)}`,document.getElementById("t_bookingMonthly").innerHTML=`&#8364; ${T(P)}`,document.getElementById("t_bookingAnnual").innerHTML=`&#8364; ${T(12*P)}`,document.getElementById("t_rentingMonthly").innerHTML=`&#8364; ${T(z)}`,document.getElementById("t_rentingAnnual").innerHTML=`&#8364; ${T(12*z)}`,document.getElementById("subRentingMonthly").innerHTML=`&#8364; ${T(z)}`,document.getElementById("subRentingAnnualy").innerHTML=`&#8364; ${T(12*z)}`,k("rentingChart","Renting Platform Fees",[{name:"AirBnB",y:12*L,color:"#3498db"},{name:"Booking.com",y:12*P,color:"#e74c3c"}]);const A=document.getElementById("operationalTable"),F=A.getElementsByTagName("tr"),$=document.getElementById("managementFee").value.trim().replace(/[^0-9.]/g,""),H=document.getElementById("communityFee").value.trim().replace(/[^0-9]/g,""),N=document.getElementById("maintenanceFee").value.trim().replace(/[^0-9]/g,""),S=document.getElementById("insuranceFee").value.trim().replace(/[^0-9]/g,""),R=document.getElementById("licenseFee").value.trim().replace(/[^0-9]/g,""),q=document.getElementById("advertisingFee").value.trim().replace(/[^0-9]/g,""),_=document.getElementById("gasFee").value.trim().replace(/[^0-9]/g,""),D=document.getElementById("energyFee").value.trim().replace(/[^0-9]/g,""),O=document.getElementById("wifiFee").value.trim().replace(/[^0-9]/g,""),j=document.getElementById("waterFee").value.trim().replace(/[^0-9]/g,"");let Y=0,V=0,U=0;A.getElementsByTagName("td")[1].innerHTML=`&#8364; ${T($*E/100)}`,A.getElementsByTagName("td")[2].innerHTML=`&#8364; ${T($*B/100)}`,A.getElementsByTagName("td")[4].innerHTML=`&#8364; ${T(H/12)}`,A.getElementsByTagName("td")[5].innerHTML=`&#8364; ${T(H)}`,A.getElementsByTagName("td")[7].innerHTML=`&#8364; ${T(N/12)}`,A.getElementsByTagName("td")[8].innerHTML=`&#8364; ${T(N)}`,A.getElementsByTagName("td")[10].innerHTML=`&#8364; ${T(S/12)}`,A.getElementsByTagName("td")[11].innerHTML=`&#8364; ${T(S)}`,A.getElementsByTagName("td")[13].innerHTML=`&#8364; ${T(R/12)}`,A.getElementsByTagName("td")[14].innerHTML=`&#8364; ${T(R)}`,A.getElementsByTagName("td")[16].innerHTML=`&#8364; ${T(q/12)}`,A.getElementsByTagName("td")[17].innerHTML=`&#8364; ${T(q)}`,A.getElementsByTagName("td")[19].innerHTML=`&#8364; ${T(_)}`,A.getElementsByTagName("td")[20].innerHTML=`&#8364; ${T(12*_)}`,A.getElementsByTagName("td")[22].innerHTML=`&#8364; ${T(D)}`,A.getElementsByTagName("td")[23].innerHTML=`&#8364; ${T(12*D)}`,A.getElementsByTagName("td")[25].innerHTML=`&#8364; ${T(O)}`,A.getElementsByTagName("td")[26].innerHTML=`&#8364; ${T(12*O)}`,A.getElementsByTagName("td")[28].innerHTML=`&#8364; ${T(j)}`,A.getElementsByTagName("td")[29].innerHTML=`&#8364; ${T(12*j)}`,A.getElementsByTagName("td")[31].innerHTML=`&#8364; ${T(L)}`,A.getElementsByTagName("td")[32].innerHTML=`&#8364; ${T(12*L)}`,A.getElementsByTagName("td")[34].innerHTML=`&#8364; ${T(P)}`,A.getElementsByTagName("td")[35].innerHTML=`&#8364; ${T(12*P)}`;for(let n=2;n<F.length-1;n++){let e=F[n].getElementsByTagName("td")[1],t=F[n].getElementsByTagName("td")[2],a=e.textContent.replace(/[^\d.,-]/g,"").replaceAll(",",""),o=t.textContent.replace(/[^\d.,-]/g,"").replaceAll(",","");Y+=parseFloat(a),V+=parseFloat(o),n<F.length-3&&(U+=parseFloat(o))}A.getElementsByTagName("th")[5].innerHTML=`&#8364; ${T(Y)}`,A.getElementsByTagName("th")[6].innerHTML=`&#8364; ${T(V)}`,document.getElementById("operationalMonthly").innerHTML=`&#8364; ${T(Y)}`,document.getElementById("operationalAnnualy").innerHTML=`&#8364; ${T(V)}`,k("operationalChart","Monthly Operational Costs",[{name:"Management Fee",y:$*E/100,color:"#3498db"},{name:"Comunal Fees",y:H/12,color:"#e74c3c"},{name:"Maintenance",y:N/12,color:"#f1c40f"},{name:"Insurance",y:S/12,color:"#2ecc71"},{name:"License Obtaining and Renweal Fees",y:R/12,color:"#f39c12"},{name:"Advertising Costs",y:q/12,color:"#16a085"},{name:"Gas Bills",y:_,color:"#95a5a6"},{name:"Energy Bills",y:D,color:"#e67e22"},{name:"WiFi Costs",y:O,color:"#f68e22"},{name:"Water Bills",y:j,color:"#d36e22"},{name:"AirBnB Fees Total",y:L,color:"#d36c69"},{name:"Booking.com Fees Total",y:P,color:"#3654db"}]);const G=document.getElementById("taxesTable"),W=document.getElementById("propertyTax").value.trim().replace(/[^0-9.]/g,""),X=t?a*W*.008:a*W/100,J=B-U-.03*a-i*l*12-12*z;let K=0,Q=0,Z=0,nn=0;"1"==h?Q=.19*J:"2"==h?(K=J<=12450?.19:J<=20200?.24:J<=35200?.3:J<=6e4?.37:J<=3e5?.45:.47,Q=J*K):"3"==h&&(Q=.24*B),Z=X/12+Q/12,nn=X+Q,G.getElementsByTagName("td")[1].innerHTML=`&#8364; ${T(X/12)}`,G.getElementsByTagName("td")[2].innerHTML=`&#8364; ${T(X)}`,G.getElementsByTagName("td")[4].innerHTML=`&#8364; ${T(Math.abs(Q/12))}`,G.getElementsByTagName("td")[5].innerHTML=`&#8364; ${T(Math.abs(Q))}`,G.getElementsByTagName("th")[5].innerHTML=`&#8364; ${T(Math.abs(Z))}`,G.getElementsByTagName("th")[6].innerHTML=`&#8364; ${T(Math.abs(nn))}`,document.getElementById("taxesMonthly").innerHTML=`&#8364; ${T(Math.abs(Z))}`,document.getElementById("taxesAnnualy").innerHTML=`&#8364; ${T(Math.abs(nn))}`;const en=document.getElementById("netIncomeTable"),tn=B-12*d-V-nn,an=d*e*12+y;en.getElementsByTagName("td")[0].innerHTML=`&#8364; ${T(tn/12)}`,en.getElementsByTagName("td")[1].innerHTML=`&#8364; ${T(tn)}`,en.getElementsByTagName("th")[4].innerHTML=`${T(Math.abs(an/tn),1)} Years`,en.getElementsByTagName("th")[5].innerHTML=`${T(100*Math.abs(tn/an),1)}% Annual ROI`,k("netIncomeChart","",[{name:"Net Income",y:tn,color:"#3498db"},{name:"Taxes",y:nn,color:"#e74c3c"},{name:"Operational Costs",y:V,color:"#f1c40f"},{name:"Mortgage Payment",y:12*d,color:"#2ecc71"}]);const on=document.getElementById("paymentPlanDiv");on.innerHTML="";let rn=l,ln=d;if(0!=rn&&0!=ln){let n,e,t=rn*r/1200,a=ln-t;for(let o=1;o<=360;o++){if(1===o||o%28==1){n=document.createElement("table"),n.classList.add("pdf-table"),1!=o&&n.style.setProperty("margin-top","130px","important");const t=document.createElement("tr");["Period","Balance","Monthly Payment","Interest Portion","Principal Portion"].forEach((n=>{const e=document.createElement("th");e.textContent=n,t.appendChild(e)}));const a=document.createElement("thead");a.appendChild(t),n.appendChild(a),e=document.createElement("tbody"),n.appendChild(e),on.appendChild(n)}const i=document.createElement("tr"),l=document.createElement("td");l.textContent=o;const d=document.createElement("td");d.textContent=`€ ${T(rn)}`;const s=document.createElement("td");s.textContent=`€ ${T(ln)}`;const c=document.createElement("td");c.textContent=`€ ${T(t)}`;const p=document.createElement("td");p.textContent=`€ ${T(a)}`,i.appendChild(l),i.appendChild(d),i.appendChild(s),i.appendChild(c),i.appendChild(p),e.appendChild(i),rn-=a,t=rn*r/1200,a=ln-t}}}));const c=document.querySelector(".radio-option input#radioSelf").parentElement,p=document.querySelector(".radio-option input#radioMortgage").parentElement,m=document.querySelector(".radio-option input#radioA").parentElement,g=document.querySelector(".radio-option input#radioB").parentElement,u=document.querySelector(".radio-option input#radioNew").parentElement,y=document.querySelector(".radio-option input#radioResale").parentElement;function b(n,e){e.classList.remove("active"),n.classList.add("active"),n.querySelector("input").checked=!0}c.addEventListener("click",(()=>{document.getElementById("termYears").disabled=!0,document.getElementById("interestRate").disabled=!0,document.getElementById("propertyPrice").disabled=!0,document.getElementById("depositContainer").style.backgroundColor="rgba(239, 239, 239, 0.3)",document.getElementById("propertyPrice").style.color="rgb(84, 84, 84)",b(c,p)})),p.addEventListener("click",(()=>{document.getElementById("termYears").disabled=!1,document.getElementById("interestRate").disabled=!1,document.getElementById("propertyPrice").disabled=!1,document.getElementById("depositContainer").style.backgroundColor="#fff",document.getElementById("propertyPrice").style.color="black",b(p,c)})),m.addEventListener("click",(()=>{b(m,g)})),g.addEventListener("click",(()=>{b(g,m)})),u.addEventListener("click",(()=>{b(u,y)})),y.addEventListener("click",(()=>{b(y,u)}));var h=1;const f=document.querySelectorAll("#multiRadio .radio-option");f.forEach((n=>{n.addEventListener("click",(()=>{!function(n){f.forEach((n=>{n.classList.remove("active")})),n.classList.add("active");const e=n.querySelector("input");e.checked=!0,h=e.value}(n)}))})),document.querySelectorAll(".checkbox-option").forEach((n=>{n.addEventListener("click",(()=>{const e=n.querySelector("input");e.checked=!e.checked,n.classList.toggle("active",e.checked)}))}));const v=document.querySelectorAll(".info-icon"),x=document.getElementById("tooltip"),E=["Select the mortgage duration (10, 15, 20, 25, or 30 years).","Enter the agreed purchase price of the property.","Input the annual interest rate offered by the lender (Bank).","Enter the initial deposit amount (banks generally require at least 10% of the property’s value).","Select if the property has an Energy Performance Certificate (EPC) rating of A or B, eligible for a 0.1% loan rate reduction and 20% tax reduction.","Choose whether the property is new (subject to 11.5% tax) or resale (subject to 8% tax).","Enter the cost of furnishing the home.","Enter the estimated or actual cost of property renovations.","Enter the nightly rate charged per guest.","Enter the maximum number of guests allowed per booking.","Enter the average percentage of booked nights throughout the year.","Enter the total number of days the property is available for bookings each year.","Enter the percentage charged for property management services, typically between 10% and 30% of rental revenue.","Enter the annual amount of property tax, calculated as a percentage of the value of the property. 1.1% is usually the highest rate in Spain.","Enter the annual fee for shared property services, typically between €50 Euro and €200 in Spain.","Enter the estimated annual cost for property upkeep and repairs.","Enter the annual cost of insurance coverage for the property.","Enter the annual cost for license acquisition and renewal, generally around €500.","Enter the monthly budget for advertising and marketing the property.","Enter the average monthly cost of gas.","Enter the average monthly electricity expense.","Enter the monthly cost for internet services.","Enter the average monthly water bill.","Yes if listing on Airbnb, applying a 3% fee, or No if not.","Yes if listing on Booking.com, applying a 10% fee, or No if not.","Spanish Residents: Subject to progressive tax rates on rental income, eligible expenses recognized by Agencia Tributaria (Spanish Tax Agency):19% for income up to €12,45024% for income from €12,451 to €20,20030% for income from €20,201 to €35,20037% for income from €35,201 to €60,00045% for income from €60,001 to €300,000 47% for income over €300,000  EU citizens are subject to a 19% flat rate with eligible expenses recognized by Agencia Tributaria (Spanish Tax Agency). Non-EU/ES residents pay a 24% flat rate with no expenses recognized."];v.forEach((n=>{n.addEventListener("mouseenter",(function(e){const t=n.getAttribute("data-tooltip");x.textContent=E[t],x.style.display="block",x.style.left=e.pageX+"px",x.style.top=e.pageY+20+"px"})),n.addEventListener("mouseleave",(function(){x.style.display="none"}))})),document.getElementById("pdf-button").addEventListener("click",(function(){!function(){const n=document.getElementById("paymentPlanDiv"),e=document.getElementById("result-table-container"),t=document.querySelectorAll(".chart-container"),a=document.querySelectorAll(".sub-detail-div"),o=document.querySelectorAll(".sub-detail-div .detail-summary");document.querySelector("#result-table-container summary").style.display="none",document.getElementById("loading-indicator").style.display="block",t.forEach(((n,e)=>{n.style.width="800px",n.style.height="auto"})),a.forEach((n=>{n.open||n.querySelector("summary").click(),n.style.border="none"})),o.forEach((n=>{n.style.display="none"})),document.getElementById("pdfTitle").style.display="block",document.getElementById("startupCostTable").style.setProperty("margin-top","40px","important"),document.getElementById("startupCostChart").style.setProperty("margin","60px 0 40px -30px","important"),document.getElementById("mortgageTable").style.setProperty("margin-top","140px","important"),document.getElementById("rentalTable").style.setProperty("margin-top","10px","important"),document.getElementById("rentingTable").style.setProperty("margin-top","10px","important"),document.getElementById("rentingChart").style.setProperty("margin","60px 0 0 -30px","important"),document.getElementById("operationalTable").style.setProperty("margin-top","10px","important"),document.getElementById("operationalChart").style.setProperty("margin-top","140px","important"),document.getElementById("taxesTable").style.setProperty("margin-top","60px","important"),document.getElementById("netIncomeTable").style.setProperty("margin-top","160px","important"),document.getElementById("netIncomeChart").style.setProperty("margin-top","100px","important"),document.getElementById("pdf-button").style.display="none",n.style.display="revert",setTimeout((()=>{html2pdf().from(e).set({margin:1,filename:"mortgage-repayment-plan.pdf",html2canvas:{scale:2,useCORS:!0},jsPDF:{format:"a4",orientation:"portrait"}}).save().then((()=>{t.forEach((n=>{n.style.width="100%",n.style.height="auto"})),e.style.setProperty("padding","0","important"),document.getElementById("pdfTitle").style.display="none",document.getElementById("startupCostTable").style.setProperty("margin-top","20px","important"),document.getElementById("startupCostChart").style.setProperty("margin","20px 0 0 0","important"),document.getElementById("mortgageTable").style.setProperty("margin-top","20px","important"),document.getElementById("rentingChart").style.setProperty("margin-top","20px","important"),document.getElementById("operationalChart").style.setProperty("margin-top","20px","important"),document.getElementById("taxesTable").style.setProperty("margin-top","20px","important"),document.getElementById("netIncomeTable").style.setProperty("margin-top","20px","important"),document.getElementById("netIncomeChart").style.setProperty("margin-top","20px","important"),document.getElementById("pdf-button").style.display="block",o.forEach((n=>{n.click(),n.style.display="flex"})),a.forEach((n=>{n.style.border="solid 1px #e5e7eb"})),n.style.display="none",document.querySelector("#result-table-container summary").style.display="flex",document.getElementById("loading-indicator").style.display="none"}))}),500)}()}));const B=document.getElementById("embedCode");function k(n,e,t){Highcharts.chart(n,{credits:{enabled:!1},chart:{type:"pie",backgroundColor:"#f3f4f6",options3d:{enabled:!0,alpha:45,beta:0}},title:{text:e,style:{fontSize:"20px"}},legend:{enabled:!0,layout:"vertical",align:"right",verticalAlign:"middle",width:120,itemStyle:{fontSize:"14px"},itemMarginTop:5,itemMarginBottom:5,floating:!1},plotOptions:{pie:{innerSize:0,depth:45,dataLabels:{enabled:!0,format:"{point.name}<br>€{point.y:.2f}",style:{fontSize:"14px"}}}},series:[{name:"Cost",data:t}],tooltip:{pointFormat:"{series.name}: <b>€{point.y:.2f}</b>"}})}function T(n,e){return(null==n||isNaN(n))&&(n=0),(null==e||isNaN(e))&&(e=2),new Intl.NumberFormat("en-US",{minimumFractionDigits:e,maximumFractionDigits:e}).format(n)}document.getElementById("bgColorPicker").addEventListener("input",(function(){document.getElementById("bgColor").value=this.value,document.getElementById("previewContainer").style.backgroundColor=this.value})),document.getElementById("textColorPicker").addEventListener("input",(function(){document.getElementById("textColor").value=this.value,document.querySelector("#previewContainer h4").style.setProperty("color",this.value,"important")})),document.getElementById("buttonColorPicker").addEventListener("input",(function(){document.getElementById("buttonColor").value=this.value,document.querySelector("#previewContainer button").style.setProperty("background-color",this.value,"important")})),document.getElementById("fontFamily").addEventListener("change",(function(){document.getElementById("previewContainer").style.fontFamily=this.value})),document.getElementById("generateButton").addEventListener("click",(function(){const n=`<div id='bnb-calculator'></div><script>const script = document.createElement('script');script.src = 'https://spaincheck.com/bnb-calculator.js';script.onload = function() {initializeBnBCalculator('bnb-calculator', {bgColor: '${document.getElementById("bgColor").value}',textColor: '${document.getElementById("textColor").value}',buttonColor: '${document.getElementById("buttonColor").value}',fontFamily: '${document.getElementById("fontFamily").value}'});};document.head.appendChild(script);<\/script>`.trim();B.value=n,B.style.height=`${B.scrollHeight}px`})),document.getElementById("copyButton").addEventListener("click",(function(){B.select(),B.setSelectionRange(0,99999),document.execCommand("copy"),alert("Embed code copied to clipboard!")})),document.querySelectorAll('#bnb-calculator-form input[type="text"]').forEach((n=>{n.addEventListener("input",(e=>{const t=["interestRate","rentalRate","managementFee","propertyTax","rentingAirBnB","rentingBooking"];let a=e.target.value.trim().replace(/[^0-9.]/g,"")||"";a=a.replace(/\.(?=.*\.)/g,"");let o="";o=t.includes(n.id)?""!=a?a+"%":a:new Intl.NumberFormat("en-US",{minimumFractionDigits:0,maximumFractionDigits:0}).format(a),e.target.value=`${o}`,t.includes(n.id)&&e.target.setSelectionRange(o.length-1,o.length-1)}))}))}));